"use strict";(self["webpackChunkfrontend"]=self["webpackChunkfrontend"]||[]).push([[218],{2095:function(t,e,a){a.d(e,{Z:function(){return w}});var s=a(3423),n=a(4562),r=a(266),l=a(4324),o=a(5495),i=a(5808),c=a(4525),d=a(4528),u=function(){var t=this,e=t._self._c;return e(r.Z,{attrs:{cols:"12",md:"12",lg:"12"}},[e("div",{staticClass:"second-sidebar-header",staticStyle:{padding:"0"}},[e(l.Z,{directives:[{name:"show",rawName:"v-show",value:t.isMobile,expression:"isMobile"}],on:{click:function(e){return t.$store.dispatch("toggleSecondVariant")}}},[t._v("mdi-arrow-collapse-right")]),e("div",[e("button",{staticClass:"border-blue",staticStyle:{overflow:"hidden",cursor:"pointer"},on:{click:function(e){return t.$store.dispatch("toggleLanguage")}}},["german"==t.$store.state.language?e("div",{staticClass:"center"},[e("img",{staticStyle:{width:"24px",height:"24px","object-fit":"cover","border-radius":"999px"},attrs:{src:a(1635),alt:"german language"}}),t._v(" CH ")]):e("div",{staticClass:"center"},[e("img",{staticStyle:{width:"24px",height:"24px","border-radius":"999px","object-fit":"cover"},attrs:{src:a(5257),alt:"german language"}}),t._v(" EN ")])]),e(d.Z,{attrs:{"offset-y":"",left:"",bottom:"",transition:"slide-x-transition"},scopedSlots:t._u([{key:"activator",fn:function({on:n,attrs:r}){return[e(s.Z,t._g(t._b({attrs:{size:"35"}},"v-avatar",r,!1),n),[t.$store.state.profileImage.img_path?e("img",{staticClass:"pa-1",staticStyle:{"object-fit":"contain"},attrs:{src:t.$store.state.profileImage.img_path}}):e(o.Z,{attrs:{src:a(6164)}})],1)]}}])},[e(i.Z,{staticClass:"p-0"},[e(c.Z,{staticClass:"p-0"},[e(n.Z,{staticStyle:{background:"transparent"},on:{click:t.goToProfile}},[t._v(" "+t._s(t.translate("Profile"))+" ")])],1),e(c.Z,{staticClass:"p-0"},[e(n.Z,{staticStyle:{background:"transparent"},on:{click:t.exitApp}},[t._v(t._s(t.translate("Log out")))])],1)],1)],1)],1)],1)])},m=[],g=a(4069),h=a.t(g,2),_={name:"UserControl",methods:{translate(t){let e=null;return g.forEach(((a,s)=>{a.english.toLowerCase()==t.toLowerCase()&&(e=s)})),null===e?t:"german"==this.$store.state.language?h[e].german:h[e].english},goToProfile(){this.$router.push("/profile")},exitApp(){localStorage.removeItem("token"),localStorage.removeItem("user"),this.$router.push("/login")}}},p=_,C=a(1001),f=(0,C.Z)(p,u,m,!1,null,null,null),w=f.exports},8646:function(t,e,a){a.r(e),a.d(e,{default:function(){return R}});var s=function(){var t=this,e=t._self._c;return e("UserManagement")},n=[],r=a(266),l=a(2118),o=a(1713),i=function(){var t=this,e=t._self._c;return e(l.Z,[e(o.Z,[e(r.Z,{attrs:{cols:"12",md:"12",lg:"12"}},[e(o.Z,[e(o.Z,{staticStyle:{"margin-left":"12px"}},[e(r.Z,{staticClass:"d-flex justify-start",attrs:{cols:"12",md:"8"}},[e("NavbarControl"),e("h2",{staticStyle:{display:"flex","align-items":"center"}},[t._v(t._s(t.translate(t.title)))])],1),e(r.Z,{attrs:{cols:"12",md:"4"}},[e("UserControl")],1)],1),e(r.Z,{staticStyle:{"margin-top":"24px"},attrs:{cols:"12",md:"12",lg:"12"}},[e("UserManagementTable")],1)],1)],1)],1)],1)},c=[],d=a(4562),u=a(4145),m=a(4886),g=a(3863),h=a(4061),_=a(4324),p=a(9730),C=a(3687),f=a(7808),w=a(6313),v=function(){var t=this,e=t._self._c;return e(o.Z,[e("SnackBar",{ref:"snackbar",attrs:{data:t.snackbar}}),e(r.Z,{attrs:{cols:"12",xs:"12",sm:"12",md:"4",lg:"4"}},[e(f.Z,{attrs:{"prepend-inner-icon":"mdi-magnify",filled:"",rounded:"","background-color":!t.$vuetify.theme.dark&&"#fff",label:t.translate("Search")},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}})],1),e(r.Z,{attrs:{cols:"12",md:"12",lg:"12"}},[e("div",{staticClass:"d-flex justify-end"},[e(d.Z,{staticClass:"mb-2",attrs:{color:"primary",dark:""},on:{click:t.openDialog}},[e(_.Z,[t._v("mdi-plus")]),t._v(" "+t._s(t.translate("Create User"))+" ")],1)],1),e(g.Z,{attrs:{headers:t.headers,items:t.data,loading:t.loading,options:t.options,"server-items-length":t.totalTableData,search:t.search,"footer-props":{"items-per-page-text":t.translate("Rows per page"),"items-per-page-all-text":t.translate("All")}},on:{"update:options":function(e){t.options=e}},scopedSlots:t._u([{key:"loading",fn:function(){return[t._v(" "+t._s(t.translate("Loading items"))+"... ")]},proxy:!0},{key:"no-data",fn:function(){return[t._v(" "+t._s(t.translate("No data available"))+" ")]},proxy:!0},{key:"top",fn:function(){return[e(w.Z,{attrs:{flat:""}},[e(C.Z),e(h.Z,{attrs:{"max-width":"500px"},model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[e(u.Z,[e(m.EB,[e("span",{staticClass:"text-h5"},[t._v(t._s(t.translate(t.formTitle)))])]),e(m.ZB,[e(l.Z,[e(o.Z,[e(r.Z,{attrs:{cols:"12"}},[e(p.Z,{attrs:{items:t.role_items,label:t.translate("Role")},model:{value:t.role,callback:function(e){t.role=e},expression:"role"}})],1),e(r.Z,{attrs:{cols:"12",sm:"6",md:"6"}},[e(f.Z,{attrs:{label:t.translate("First Name")},model:{value:t.create_new_agent.first_name,callback:function(e){t.$set(t.create_new_agent,"first_name",e)},expression:"create_new_agent.first_name"}})],1),e(r.Z,{attrs:{cols:"12",sm:"6",md:"6"}},[e(f.Z,{attrs:{label:t.translate("Last Name")},model:{value:t.create_new_agent.last_name,callback:function(e){t.$set(t.create_new_agent,"last_name",e)},expression:"create_new_agent.last_name"}})],1),e(r.Z,{attrs:{cols:"12",sm:"6",md:"6"}},[e(f.Z,{attrs:{label:t.translate("Email")},model:{value:t.create_new_agent.email,callback:function(e){t.$set(t.create_new_agent,"email",e)},expression:"create_new_agent.email"}})],1),e(r.Z,{attrs:{cols:"12",sm:"6",md:"6"}},[e(f.Z,{attrs:{type:"number",label:t.translate("Phone Nr.")},model:{value:t.create_new_agent.phone,callback:function(e){t.$set(t.create_new_agent,"phone",e)},expression:"create_new_agent.phone"}})],1),t.isCreateMode?e(r.Z,{attrs:{cols:"12",sm:"12",md:"12"}},[e(f.Z,{attrs:{label:t.translate("Password"),type:t.showPassword?"text":"password",required:"","append-icon":t.showPassword?"mdi-eye-outline":"mdi-eye-off-outline","prepend-inner-icon":"mdi-lock-outline"},on:{"click:append":function(e){t.showPassword=!t.showPassword}},model:{value:t.create_new_agent.password,callback:function(e){t.$set(t.create_new_agent,"password",e)},expression:"create_new_agent.password"}})],1):t._e(),t.isCreateMode?e(r.Z,{attrs:{cols:"12",sm:"12",md:"12"}},[e(f.Z,{attrs:{label:t.translate("Repeat Password"),type:t.showConfirmPassword?"text":"password",required:"","append-icon":t.showConfirmPassword?"mdi-eye-outline":"mdi-eye-off-outline","prepend-inner-icon":"mdi-lock-outline"},on:{"click:append":function(e){t.showConfirmPassword=!t.showConfirmPassword}},model:{value:t.create_new_agent.password_confirmation,callback:function(e){t.$set(t.create_new_agent,"password_confirmation",e)},expression:"create_new_agent.password_confirmation"}})],1):t._e()],1)],1)],1),e(m.h7,[e(C.Z),e(d.Z,{attrs:{color:"blue darken-1",text:""},on:{click:t.close}},[t._v(" "+t._s(t.translate("Cancel"))+" ")]),e(d.Z,{directives:[{name:"show",rawName:"v-show",value:t.isCreateMode,expression:"isCreateMode"}],attrs:{color:"blue darken-1",text:""},on:{click:t.save}},[t._v(" "+t._s(t.translate("Create"))+" ")]),e(d.Z,{directives:[{name:"show",rawName:"v-show",value:!t.isCreateMode&&t.create_new_agent.email.length>0,expression:"!isCreateMode && create_new_agent.email.length > 0"}],attrs:{color:"blue darken-1",text:""},on:{click:t.update}},[t._v(" "+t._s(t.translate("Update"))+" ")])],1)],1)],1),e(h.Z,{attrs:{"max-width":"500px"},model:{value:t.dialogDelete,callback:function(e){t.dialogDelete=e},expression:"dialogDelete"}},[e(u.Z,[e(m.EB,{staticClass:"text-h5"},[t._v(t._s(t.translate("Are you sure you want to delete this item?")))]),e(m.h7,[e(C.Z),e(d.Z,{class:{"btn-dark":t.$vuetify.theme.dark},attrs:{color:"blue darken-1",text:""},on:{click:t.closeDelete}},[t._v(t._s(t.translate("Cancel")))]),e(d.Z,{attrs:{color:"blue darken-1",text:""},on:{click:function(e){return t.deleteItemModalConfirm()}}},[t._v("OK")]),e(C.Z)],1)],1)],1)],1)]},proxy:!0},{key:"item.actions",fn:function({item:a}){return[t.user_role_id!=a.role_id?e("div",{staticClass:"d-flex"},[e(d.Z,{attrs:{icon:""},on:{click:function(e){return t.editItem(a)}}},[e("svg",{attrs:{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"}},[e("path",{attrs:{d:"M15.6219 6.68218C15.7485 6.65503 15.8563 6.57958 15.9257 6.4698C15.9945 6.36117 16.0168 6.22724 15.9872 6.10208C15.7856 5.25056 15.4499 4.44053 14.9892 3.69502C14.9218 3.58581 14.8112 3.50692 14.6859 3.47861C14.5591 3.45002 14.4295 3.47272 14.3208 3.54313C13.7915 3.8847 13.0835 3.80883 12.6375 3.36265C12.1913 2.91662 12.1155 2.20878 12.457 1.67939C12.5274 1.57061 12.5501 1.441 12.5215 1.31426C12.4932 1.18896 12.4143 1.07831 12.3053 1.01091C11.5595 0.550241 10.7496 0.21442 9.8978 0.0129422C9.77293 -0.0166593 9.63886 0.00575736 9.53022 0.0744449C9.42044 0.143849 9.345 0.251622 9.31785 0.378218C9.18579 0.994534 8.63156 1.44171 8.00002 1.44171C7.36847 1.44171 6.81425 0.994533 6.68219 0.378071C6.65503 0.251475 6.57959 0.143702 6.46981 0.0742978C6.36117 0.0054672 6.22725 -0.0168067 6.10223 0.0127951C5.25041 0.214402 4.44053 0.550057 3.69502 1.01077C3.58581 1.07816 3.50692 1.1888 3.47861 1.31411C3.45002 1.44085 3.47272 1.57047 3.54313 1.67924C3.8847 2.20848 3.80883 2.91647 3.36265 3.3625C2.91662 3.80868 2.20878 3.88454 1.67939 3.54298C1.57061 3.47257 1.441 3.44987 1.31426 3.47847C1.18896 3.50677 1.07831 3.58566 1.01091 3.69473C0.550242 4.44049 0.214421 5.25038 0.0129427 6.1022C-0.0166588 6.22707 0.00575759 6.36114 0.0744451 6.46977C0.14385 6.57956 0.251622 6.655 0.378218 6.68215C0.994534 6.81421 1.44171 7.36844 1.44171 7.99998C1.44171 8.63153 0.994534 9.18575 0.378071 9.31781C0.251475 9.34497 0.143703 9.42041 0.074298 9.53019C0.00546743 9.63882 -0.0168068 9.77275 0.012795 9.89791C0.214402 10.7494 0.550058 11.5595 1.01077 12.305C1.07816 12.4142 1.18881 12.4931 1.31411 12.5214C1.44085 12.55 1.57047 12.5273 1.67924 12.4569C2.20848 12.1153 2.91647 12.1912 3.3625 12.6373C3.80868 13.0834 3.88454 13.7912 3.54298 14.3206C3.47272 14.4294 3.44987 14.559 3.47847 14.6857C3.50677 14.811 3.58566 14.9217 3.69473 14.9891C4.44049 15.4498 5.25038 15.7856 6.1022 15.9871C6.13827 15.9957 6.17505 15.9997 6.21184 15.9997C6.30237 15.9997 6.39247 15.9744 6.46977 15.9254C6.57956 15.856 6.655 15.7482 6.68216 15.6216C6.81421 15.0055 7.36844 14.5583 7.99998 14.5583C8.63153 14.5583 9.18575 15.0055 9.31781 15.6219C9.34497 15.7485 9.42041 15.8563 9.53019 15.9257C9.63883 15.9945 9.77275 16.0168 9.89777 15.9872C10.7496 15.7856 11.5595 15.4499 12.3052 14.9892C12.4143 14.9218 12.4932 14.8112 12.5215 14.6859C12.5501 14.5592 12.5271 14.4295 12.457 14.3208C12.1154 13.7915 12.1913 13.0835 12.6375 12.6375C13.0835 12.1913 13.7913 12.1155 14.3207 12.457C14.4295 12.5273 14.5591 12.5501 14.6859 12.5215C14.8112 12.4932 14.9218 12.4143 14.9892 12.3053C15.4499 11.5595 15.7857 10.7496 15.9872 9.89806V9.89791C16.0168 9.77304 15.9944 9.63897 15.9257 9.53034C15.8563 9.42056 15.7485 9.34511 15.6219 9.31796C15.0054 9.18576 14.5583 8.63153 14.5583 7.99998C14.5583 7.36844 15.0054 6.81422 15.6219 6.68216L15.6219 6.68218ZM4.99734 8.00001C4.99734 6.34176 6.34162 4.99749 7.99987 4.99749C9.65812 4.99749 11.0024 6.34176 11.0024 8.00001C11.0024 9.65826 9.65812 11.0025 7.99987 11.0025C6.34162 11.0025 4.99734 9.65826 4.99734 8.00001Z",fill:"#36A5DD"}})])]),e(d.Z,{attrs:{icon:""},on:{click:function(e){return t.deleteItemModal(a)}}},[e("svg",{attrs:{width:"16",height:"16",viewBox:"0 0 17 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"}},[e("path",{attrs:{d:"M13.6564 2.34278C12.1561 0.842612 10.1212 0 7.99967 0C5.87804 0 3.84335 0.842939 2.34294 2.34327C0.842775 3.84359 0 5.87833 0 8C0 10.1217 0.842775 12.1563 2.34294 13.6567C3.84327 15.1571 5.878 16 7.99967 16C10.1213 16 12.1564 15.1573 13.6564 13.6572C14.6543 12.6669 15.3728 11.4302 15.7384 10.0727C16.1041 8.7151 16.1041 7.28494 15.7384 5.92743C15.3728 4.56996 14.6543 3.33318 13.6564 2.34294V2.34278ZM10.6736 9.86278L10.6735 9.86294C10.7781 9.97215 10.8364 10.1174 10.8364 10.2685C10.8364 10.4199 10.7781 10.5651 10.6735 10.6743C10.5606 10.7764 10.4142 10.8333 10.2621 10.8344C10.1134 10.8331 9.97051 10.776 9.86209 10.6743L7.9992 8.81142L6.1363 10.6743C6.02788 10.776 5.88502 10.8331 5.73627 10.8344C5.58416 10.8333 5.4378 10.7764 5.32492 10.6743C5.22033 10.5651 5.16197 10.4199 5.16197 10.2685C5.16197 10.1174 5.22033 9.97215 5.32492 9.86294L7.18782 8.00004L5.32492 6.13714C5.10091 5.91313 5.10091 5.54975 5.32492 5.32575C5.54893 5.10175 5.91231 5.10174 6.13631 5.32575L7.9992 7.18865L9.8621 5.32575C10.0861 5.10174 10.4495 5.10174 10.6735 5.32575C10.8975 5.54976 10.8975 5.91314 10.6735 6.13714L8.81059 8.00004L10.6736 9.86278Z",fill:"#D20000"}})])])],1):t._e()]}}],null,!0)})],1)],1)},b=[],x=a(9669),k=a.n(x),Z=a(4069),I=a.t(Z,2),y=a(1407),L={name:"UserManagementTable",data(){return{role_items:[{text:"Admin",value:1},{text:"Agent",value:0}],role:0,showPassword:!1,showConfirmPassword:!1,snackbar:{show:!1,message:null,color:null},sex:"frau",isCreateMode:!0,search:"",activePicker:null,date:null,menu:!1,dialog:!1,dialogDelete:!1,headers:[{text:"#",value:"id"},{text:this.translate("First name"),value:"first_name"},{text:this.translate("Last name"),value:"last_name"},{text:this.translate("Phone"),value:"phone"},{text:this.translate("Actions"),value:"actions"}],data:[],loading:!0,options:{},totalTableData:0,create_data:{customer_id:"",insurance_id:"",sent_on:"",status_id:"",category_id:""},create_new_agent:{email:"",first_name:"",last_name:"",password:"",password_confirmation:"",approved:1,phone:""},new_agent_data:{},get_item_data:[],contract_statuses:[],contract_categories:[],clients_list:[],insurance_list:[],deleteItemId:0,updateItemId:0,default_item_data:{customer_id:"",insurance_id:"",sent_on:"",status_id:"",category_id:""}}},computed:{formTitle(){return!0===this.isCreateMode?"Create User":"Edit User"},user_role_id(){const t=JSON.parse(localStorage.getItem("user"));return t.role_id}},watch:{dialog(t){t||this.close()},dialogDelete(t){t||this.closeDelete()},options:{handler(){this.getItemsTable()},deep:!0},menu(t){t&&setTimeout((()=>this.activePicker="YEAR"))}},methods:{translate(t){let e=null;return Z.forEach(((a,s)=>{a.english.toLowerCase()==t.toLowerCase()&&(e=s)})),null===e?t:"german"==this.$store.state.language?I[e].german:I[e].english},getItemsTable(){this.loading=!0;const{sortBy:t,sortDesc:e,page:a,itemsPerPage:s}=this.options;let n;n="asc",e[0]&&(n="desc"),k().get("/admin/userdatatable",{params:{sort_by:t[0],sort:n,page:a,per_page:s}}).then((t=>{this.data=t.data.data,this.totalTableData=t.data.total,this.loading=!1,this.$nextTick((()=>{const t=this.$el.querySelector(".v-data-footer__pagination"),e=t.innerHTML.replace("of",this.translate("of"));t.innerHTML=e}))})).catch((t=>{console.log(t)}))},createItem(){k().post("/register",{email:this.create_new_agent.email,first_name:this.create_new_agent.first_name,last_name:this.create_new_agent.last_name,password:this.create_new_agent.password,password_confirmation:this.create_new_agent.password_confirmation,approved:1,phone:this.create_new_agent.phone,role_id:this.role}).then((t=>{this.snackbar={message:"New agent created successfully",color:"success",show:!0,error:!1},this.$refs.snackbar.toggleSnackbar(),this.approveUser(t.data.user_id)})).catch((t=>{console.log("test",t),this.snackbar={message:t.response.data.message,color:"error",error:!0},this.$refs.snackbar.toggleSnackbar()}))},approveUser(t){k().put("/approve_agent",{user_id:t}).then((()=>{this.getItemsTable()})).catch((t=>console.log(t)))},getItem(t){this.create_new_agent={},k().get("admin/user/"+t).then((t=>{const{email:e,first_name:a,last_name:s,phone:n,role_id:r}=t.data.data;this.create_new_agent={email:e,first_name:a,last_name:s,password:"",password_confirmation:"",phone:n},this.role=parseInt(r)})).catch((t=>{console.log(t)}))},updateItem(t){k().put("admin/user/"+t,{first_name:this.create_new_agent.first_name,last_name:this.create_new_agent.last_name,phone:this.create_new_agent.phone,email:this.create_new_agent.email,role_id:this.role}).then((t=>{this.snackbar={message:t.data.message,color:"success",error:!1},this.$refs.snackbar.toggleSnackbar(),this.getItemsTable()})).catch((t=>{console.log(t)}))},deleteItem(t){k()["delete"]("/admin/user/"+t).then((t=>{this.snackbar={message:t.data.message,color:"success",error:!1},this.$refs.snackbar.toggleSnackbar()})).catch((t=>{console.log(t)}))},openDialog(){this.create_data=this.default_item_data,this.isCreateMode=!0,this.dialog=!0},editItem(t){this.isCreateMode=!1,this.getItem(t.id),this.updateItemId=t.id,this.dialog=!0},deleteItemModal(t){this.deleteItemId=t.id,this.dialogDelete=!0},deleteItemModalConfirm(){this.closeDelete(),this.deleteItem(this.deleteItemId),this.getItemsTable()},close(){this.dialog=!1},closeDelete(){this.dialogDelete=!1},save(){this.close(),this.createItem()},update(){this.close(),this.updateItem(this.updateItemId)},saveDate(t){this.$refs.menu.save(t)}},mounted(){this.getItemsTable()},components:{SnackBar:y.Z}},D=L,M=a(1001),S=(0,M.Z)(D,v,b,!1,null,null,null),T=S.exports,$=a(2095),P={name:"UserManagementComponent",data(){return{title:"Agent Management"}},methods:{translate(t){let e=null;return Z.forEach(((a,s)=>{a.english.toLowerCase()==t.toLowerCase()&&(e=s)})),null===e?t:"german"==this.$store.state.language?I[e].german:I[e].english}},components:{UserManagementTable:T,UserControl:$.Z}},U=P,A=(0,M.Z)(U,i,c,!1,null,null,null),B=A.exports,N={name:"UserManagementView",components:{UserManagement:B}},E=N,j=(0,M.Z)(E,s,n,!1,null,null,null),R=j.exports},4063:function(t,e,a){a.r(e),a.d(e,{default:function(){return j}});var s=function(){var t=this,e=t._self._c;return e("WaitingList")},n=[],r=a(266),l=a(2118),o=a(1713),i=function(){var t=this,e=t._self._c;return e(l.Z,[e(o.Z,[e(r.Z,{attrs:{cols:"12",md:"12",lg:"12"}},[e(o.Z,[e(o.Z,{staticStyle:{"margin-left":"12px"}},[e(r.Z,{staticClass:"d-flex justify-start",attrs:{cols:"12",md:"8"}},[e("NavbarControl"),e("h2",{staticStyle:{display:"flex","align-items":"center"}},[t._v(t._s(t.translate(t.title)))])],1),e(r.Z,{attrs:{cols:"12",md:"4"}},[e("UserControl")],1)],1),e(r.Z,{staticStyle:{"margin-top":"24px"},attrs:{cols:"12",md:"12",lg:"12"}},[e("WaitingListTable")],1)],1)],1)],1)],1)},c=[],d=a(4562),u=a(4145),m=a(4886),g=a(3863),h=a(4061),_=a(9730),p=a(3687),C=a(6313),f=function(){var t=this,e=t._self._c;return e(o.Z,[e("SnackBar",{ref:"snackbar",attrs:{data:t.snackbar}}),e(r.Z,{attrs:{cols:"12",md:"12",lg:"12"}},[e(g.Z,{attrs:{headers:t.headers,items:t.data,loading:t.loading,options:t.options,"server-items-length":t.totalTableData,search:t.search,"footer-props":{"items-per-page-text":t.translate("Rows per page"),"items-per-page-all-text":t.translate("All")}},on:{"update:options":function(e){t.options=e}},scopedSlots:t._u([{key:"loading",fn:function(){return[t._v(" "+t._s(t.translate("Loading items"))+"... ")]},proxy:!0},{key:"no-data",fn:function(){return[t._v(" "+t._s(t.translate("No data available"))+" ")]},proxy:!0},{key:"top",fn:function(){return[e(C.Z,{attrs:{flat:""}},[e(p.Z),[e(h.Z,{attrs:{"max-width":"550px"},model:{value:t.dialog_select_role,callback:function(e){t.dialog_select_role=e},expression:"dialog_select_role"}},[e(u.Z,[e(o.Z,{staticStyle:{padding:"24px"},attrs:{"no-gutters":"","no-wrap":""}},[e(_.Z,{attrs:{label:t.translate("Role"),items:t.translated_roles},model:{value:t.role,callback:function(e){t.role=e},expression:"role"}})],1),e(m.h7,{staticClass:"justify-end"},[e("button",{staticClass:"btn btn-cancel",on:{click:function(e){return t.cancelProcess()}}},[t._v(t._s(t.translate("Cancel")))]),e("button",{staticClass:"btn btn-ok",attrs:{color:"blue darken-1",text:""},on:{click:function(e){return t.approveUser()}}},[t._v(t._s(t.translate("Confirm")))])])],1)],1)],[e(h.Z,{attrs:{"max-width":"550px"},model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[e(u.Z,[e(o.Z,{staticStyle:{padding:"24px"},attrs:{"no-gutters":"","no-wrap":""}},[e("img",{staticStyle:{width:"56px",height:"56px"},attrs:{src:a(6721)}}),e("div",{staticStyle:{"margin-left":"16px"}},[e(m.EB,{staticClass:"text-h5 p-0"},[t._v(t._s(t.translate("Activate user")))]),e(m.ZB,{staticClass:"p-0",staticStyle:{"margin-top":"4px"}},[t._v(t._s(t.translate("Do you want to activate this user's account?")))])],1)]),e(m.h7,{staticClass:"justify-end"},[e("button",{staticClass:"btn btn-cancel",class:{"btn-dark":t.$vuetify.theme.dark},on:{click:function(e){t.dialog=!t.dialog}}},[t._v(t._s(t.translate("Cancel")))]),e("button",{staticClass:"btn btn-ok",attrs:{color:"blue darken-1",text:""},on:{click:function(e){return t.selectRole()}}},[t._v(" "+t._s(t.translate("Confirm")))])])],1)],1)],e(h.Z,{attrs:{"max-width":"550px"},model:{value:t.dialogDelete,callback:function(e){t.dialogDelete=e},expression:"dialogDelete"}},[e(u.Z,[e(o.Z,{staticStyle:{padding:"24px"},attrs:{"no-gutters":"","no-wrap":""}},[e("img",{staticStyle:{width:"56px",height:"56px"},attrs:{src:a(8952)}}),e("div",{staticStyle:{"margin-left":"16px"}},[e(m.EB,{staticClass:"text-h5 p-0"},[t._v(t._s(t.translate("Delete")))]),e(m.ZB,{staticClass:"p-0",staticStyle:{"margin-top":"4px"}},[t._v(t._s(t.translate("Are you sure you want to delete this item?")))])],1)]),e(m.h7,{staticClass:"justify-end"},[e("button",{staticClass:"btn btn-cancel",class:{"btn-dark":t.$vuetify.theme.dark},on:{click:function(e){t.dialogDelete=!t.dialogDelete}}},[t._v(t._s(t.translate("Cancel")))]),e("button",{staticClass:"btn btn-decline",attrs:{color:"blue darken-1",text:""},on:{click:function(e){return t.declineUser()}}},[t._v(t._s(t.translate("Confirm")))])])],1)],1)],2)]},proxy:!0},{key:"item.created_at",fn:function({item:e}){return[t._v(" "+t._s(t._f("moment")(e.created_at,"DD.MM.YYYY HH:mm"))+" ")]}},{key:"item.actions",fn:function({item:a}){return[e("div",{staticClass:"d-flex"},[e(d.Z,{attrs:{icon:""},on:{click:function(e){return t.editItem(a)}}},[e("svg",{attrs:{width:"20",height:"20",viewBox:"0 0 26 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"}},[e("path",{attrs:{d:"M23.2854 3.54275L11.1711 14.5999L6.77125 9.79979C6.34276 9.3426 5.62849 9.3141 5.14257 9.71409C4.68538 10.1426 4.65688 10.8568 5.05687 11.3428L10.2283 16.9999C10.4569 17.257 10.7712 17.3714 11.0855 17.3714C11.3713 17.3714 11.6284 17.2857 11.857 17.0856L24.8284 5.22846C25.2856 4.79997 25.3141 4.08571 24.9141 3.59979C24.4856 3.1426 23.7713 3.1141 23.2856 3.54259L23.2854 3.54275Z",fill:"#1DD200"}}),e("path",{attrs:{d:"M11.9999 24C18.6285 24 23.9999 18.6286 23.9999 12C23.9999 11.4286 23.9714 10.8857 23.8857 10.3428C23.8 9.71428 23.2286 9.28576 22.6001 9.37147C21.9715 9.45717 21.543 10.0286 21.6287 10.6571C21.6859 11.1143 21.7144 11.5715 21.7144 12C21.7144 17.3428 17.343 21.7143 12.0001 21.7143C6.65724 21.7143 2.28581 17.3428 2.28581 12C2.28581 6.65713 6.65724 2.2857 12.0001 2.2857C14.2859 2.2857 16.5144 3.0857 18.2572 4.57147C18.7429 4.97146 19.4572 4.91427 19.8572 4.42857C20.2572 3.94288 20.2 3.22857 19.7143 2.82862C17.5716 0.999847 14.8287 0 12 0C5.37143 0 0 5.37143 0 12C0 18.6286 5.37143 24 12 24L11.9999 24Z",fill:"#1DD200"}})])]),e(d.Z,{attrs:{icon:""},on:{click:function(e){return t.deleteItemModal(a)}}},[e("svg",{attrs:{width:"20",height:"20",viewBox:"0 0 25 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"}},[e("path",{attrs:{d:"M20.4846 3.51416C18.2341 1.26392 15.1818 0 11.9995 0C8.81706 0 5.76502 1.26441 3.51441 3.5149C1.26416 5.76539 0 8.81749 0 12C0 15.1825 1.26416 18.2345 3.51441 20.4851C5.7649 22.7356 8.817 24 11.9995 24C15.182 24 18.2346 22.736 20.4846 20.4858C21.9815 19.0004 23.0592 17.1453 23.6076 15.1091C24.1562 13.0727 24.1562 10.9274 23.6076 8.89114C23.0592 6.85494 21.9815 4.99978 20.4846 3.51441V3.51416ZM16.0104 14.7942L16.0102 14.7944C16.1671 14.9582 16.2546 15.1761 16.2546 15.4028C16.2546 15.6298 16.1671 15.8477 16.0102 16.0115C15.8409 16.1645 15.6213 16.2499 15.3932 16.2516C15.1701 16.2497 14.9558 16.1641 14.7931 16.0115L11.9988 13.2171L9.20445 16.0115C9.04182 16.1641 8.82754 16.2497 8.6044 16.2516C8.37624 16.2499 8.15669 16.1645 7.98738 16.0115C7.83049 15.8477 7.74296 15.6298 7.74296 15.4028C7.74296 15.1761 7.83049 14.9582 7.98738 14.7944L10.7817 12.0001L7.98738 9.20571C7.65136 8.86969 7.65136 8.32463 7.98738 7.98863C8.3234 7.65263 8.86846 7.65261 9.20446 7.98863L11.9988 10.783L14.7932 7.98863C15.1292 7.65261 15.6742 7.65261 16.0102 7.98863C16.3462 8.32465 16.3463 8.86971 16.0102 9.20571L13.2159 12.0001L16.0104 14.7942Z",fill:"#D20000"}})])])],1)]}}],null,!0)})],1)],1)},w=[],v=a(9669),b=a.n(v),x=a(4069),k=a.t(x,2),Z=a(1407),I={name:"UserManagementTable",data(){return{dialog_select_role:!1,snackbar:{show:!1,message:null,color:null},sex:"frau",isCreateMode:!0,search:"",activePicker:null,date:null,menu:!1,dialog:!1,dialogDelete:!1,headers:[{text:"#",value:"id"},{text:this.translate("Name"),value:"first_name"},{text:this.translate("Last Name"),value:"last_name"},{text:this.translate("Date Applied"),value:"created_at"},{text:this.translate("Actions"),value:"actions"}],role_items:[{text:"Agent",value:0},{text:"Admin",value:1}],role:0,data:[],loading:!0,options:{},totalTableData:0,create_data:{customer_id:"",insurance_id:"",sent_on:"",status_id:"",category_id:""},get_item_data:[],contract_statuses:[],contract_categories:[],clients_list:[],insurance_list:[],deleteItemId:0,updateItemId:0,default_item_data:{customer_id:"",insurance_id:"",sent_on:"",status_id:"",category_id:""}}},computed:{formTitle(){return!0===this.isCreateMode?"Create User":"Pending User Profile"},translated_roles(){let t=[];return this.role_items.forEach((e=>{t.push({text:this.translate(e.text),value:e.value})})),t}},watch:{dialog(t){t||this.close()},dialogDelete(t){t||this.closeDelete()},options:{handler(){this.getItemsTable()},deep:!0},menu(t){t&&setTimeout((()=>this.activePicker="YEAR"))}},methods:{cancelProcess(){this.dialog=!1,this.dialog_select_role=!1},selectRole(){this.dialog=!1,this.dialog_select_role=!0},translate(t){let e=null;return x.forEach(((a,s)=>{a.english.toLowerCase()==t.toLowerCase()&&(e=s)})),null===e?t:"german"==this.$store.state.language?k[e].german:k[e].english},approveUser(){b().put("/approve_agent",{user_id:this.updateItemId,role_id:this.role}).then((()=>{this.getItemsTable()})).catch((t=>console.log(t))),this.dialog_select_role=!1},declineUser(){b().post("/decline_agent",{user_id:this.deleteItemId}).then((()=>{this.getItemsTable()})).catch((t=>console.log(t))),this.dialogDelete=!this.dialogDelete},getItemsTable(){this.loading=!0;const{sortBy:t,sortDesc:e,page:a,itemsPerPage:s}=this.options;let n;n="asc",e[0]&&(n="desc"),b().get("/admin/userdatatable?waiting_list",{params:{sort_by:t[0],sort:n,page:a,per_page:s}}).then((t=>{this.data=t.data.data,this.totalTableData=t.data.total,this.loading=!1,this.$nextTick((()=>{const t=this.$el.querySelector(".v-data-footer__pagination"),e=t.innerHTML.replace("of",this.translate("of"));t.innerHTML=e}))})).catch((t=>{console.log(t)}))},createItem(){b().post("/contract",this.create_data).then((t=>{this.create_data={},this.snackbar={message:t.data.message,color:"success",error:!1},this.$refs.snackbar.toggleSnackbar()})).catch((t=>{console.log(t)}))},getItem(t){b().get("/contract/"+t).then((t=>{this.create_data={},this.get_item_data.push(t.data.data),this.create_data.customer_id=parseInt(t.data.data.customer_id),this.create_data.insurance_id=parseInt(t.data.data.insurance_id),this.create_data.sent_on=t.data.data.sent_on,this.create_data.status_id=parseInt(t.data.data.status_id),this.create_data.category_id=parseInt(t.data.data.category_id)})).catch((t=>{console.log(t)}))},updateItem(t){b().put("/contract/"+t,this.create_data).then((t=>{this.snackbar={message:t.data.message,color:"success",error:!1},this.$refs.snackbar.toggleSnackbar()})).catch((t=>{console.log(t)}))},deleteItem(t){b()["delete"]("/contract/"+t).then((t=>{this.snackbar={message:t.data.message,color:"success",error:!1},this.$refs.snackbar.toggleSnackbar()})).catch((t=>{console.log(t)}))},openDialog(){this.create_data=this.default_item_data,this.isCreateMode=!0,this.dialog=!0},editItem(t){this.isCreateMode=!1,this.getItem(t.id),this.updateItemId=t.id,this.dialog=!0},deleteItemModal(t){this.deleteItemId=t.id,this.dialogDelete=!0},deleteItemModalConfirm(){this.closeDelete(),this.deleteItem(this.deleteItemId),this.getItemsTable()},close(){this.dialog=!1},closeDelete(){this.dialogDelete=!1},save(){this.close(),this.createItem(),this.getItemsTable()},update(){this.close(),this.updateItem(this.updateItemId),this.getItemsTable()},saveDate(t){this.$refs.menu.save(t)}},mounted(){this.getItemsTable()},components:{SnackBar:Z.Z}},y=I,L=a(1001),D=(0,L.Z)(y,f,w,!1,null,null,null),M=D.exports,S=a(1551),T=a(2095),$={name:"WaitingListComponent",data(){return{title:"Waiting List"}},methods:{translate(t){let e=null;return x.forEach(((a,s)=>{a.english.toLowerCase()==t.toLowerCase()&&(e=s)})),null===e?t:"german"==this.$store.state.language?k[e].german:k[e].english}},components:{WaitingListTable:M,NavbarControl:S.Z,UserControl:T.Z}},P=$,U=(0,L.Z)(P,i,c,!1,null,null,null),A=U.exports,B={name:"WaitingListView",components:{WaitingList:A}},N=B,E=(0,L.Z)(N,s,n,!1,null,null,null),j=E.exports},6721:function(t,e,a){t.exports=a.p+"img/add_user.3eeebaa7.gif"}}]);
//# sourceMappingURL=user-management.dae142f3.js.map