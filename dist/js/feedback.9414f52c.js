"use strict";(self["webpackChunkfrontend"]=self["webpackChunkfrontend"]||[]).push([[656],{4674:function(t,e,a){a.d(e,{Z:function(){return _}});var s=a(8819),n=a(7179),i=a(4437),o=a(5057),l=a(2469),r=a(248),c=a(1908),d=a(1495),u=function(){var t=this,e=t._self._c;return e(i.Z,{attrs:{cols:"12",md:"12",lg:"12"}},[e("div",{staticClass:"second-sidebar-header",staticStyle:{padding:"0"}},[e(o.Z,{directives:[{name:"show",rawName:"v-show",value:t.isMobile,expression:"isMobile"}],on:{click:function(e){return t.$store.dispatch("toggleSecondVariant")}}},[t._v("mdi-arrow-collapse-right")]),e("div",[e("button",{staticClass:"border-blue",staticStyle:{overflow:"hidden",cursor:"pointer"},on:{click:function(e){return t.$store.dispatch("toggleLanguage")}}},["german"==t.$store.state.language?e("div",{staticClass:"center"},[e("img",{staticStyle:{width:"24px",height:"24px","object-fit":"cover","border-radius":"999px"},attrs:{src:a(1635),alt:"german language"}}),t._v(" CH ")]):e("div",{staticClass:"center"},[e("img",{staticStyle:{width:"24px",height:"24px","border-radius":"999px","object-fit":"cover"},attrs:{src:a(5257),alt:"german language"}}),t._v(" EN ")])]),e(d.Z,{attrs:{"offset-y":"",left:"",bottom:"",transition:"slide-x-transition"},scopedSlots:t._u([{key:"activator",fn:function({on:n,attrs:i}){return[e(s.Z,t._g(t._b({attrs:{size:"35"}},"v-avatar",i,!1),n),[t.$store.state.profileImage.img_path?e("img",{staticClass:"pa-1",staticStyle:{"object-fit":"contain"},attrs:{src:t.$store.state.profileImage.img_path}}):e(l.Z,{attrs:{src:a(6164)}})],1)]}}])},[e(r.Z,{staticClass:"p-0"},[e(c.Z,{staticClass:"p-0"},[e(n.Z,{staticStyle:{background:"transparent"},on:{click:t.goToProfile}},[t._v(" "+t._s(t.translate("Profile"))+" ")])],1),e(c.Z,{staticClass:"p-0"},[e(n.Z,{staticStyle:{background:"transparent"},on:{click:t.exitApp}},[t._v(t._s(t.translate("Log out")))])],1)],1)],1)],1)],1)])},m=[],h=(a(7658),a(4069)),g=a.t(h,2),p={name:"UserControl",methods:{translate(t){let e=null;return h.forEach(((a,s)=>{a.english.toLowerCase()==t.toLowerCase()&&(e=s)})),null===e?t:"german"==this.$store.state.language?g[e].german:g[e].english},goToProfile(){this.$router.push("/profile")},exitApp(){localStorage.removeItem("token"),localStorage.removeItem("user"),this.$router.push("/login")}}},f=p,v=a(3736),C=(0,v.Z)(f,u,m,!1,null,null,null),_=C.exports},2216:function(t,e,a){a.r(e),a.d(e,{default:function(){return V}});var s=function(){var t=this,e=t._self._c;return e("Feedback")},n=[],i=a(4437),o=a(6035),l=a(5294),r=function(){var t=this,e=t._self._c;return e(o.Z,[e(l.Z,[e(i.Z,{attrs:{cols:"12",md:"12",lg:"12"}},[e(l.Z,[e(i.Z,{attrs:{cols:"12"}},[e(l.Z,{staticStyle:{"margin-left":"12px"}},[e(i.Z,{staticClass:"d-flex justify-start",attrs:{cols:"12",md:"8"}},[e("NavbarControl"),e("h2",{staticStyle:{display:"flex","align-items":"center"}},[t._v(t._s(t.translate(t.title)))])],1),e(i.Z,{attrs:{cols:"12",md:"4"}},[e("UserControl")],1)],1)],1),e(i.Z,{attrs:{cols:"12",xs:"12",sm:"12",md:"12",lg:"12"}},[e("FeedbackTable")],1)],1)],1)],1)],1)},c=[],d=a(7179),u=a(3385),m=a(5223),h=a(7652),g=a(9789),p=a(4192),f=a(2927),v=a(5234),C=a(5251),_=a(5617),x=a(5838),b=(a(7658),function(){var t=this,e=t._self._c;return e(l.Z,[e("SnackBar",{ref:"snackbar",attrs:{data:t.snackbar}}),e(g.Z,{attrs:{width:"500"},model:{value:t.editModal,callback:function(e){t.editModal=e},expression:"editModal"}},[e(u.Z,[e(m.EB,{staticClass:"text-h5 lighten-2"},[t._v(" "+t._s(t.translate("Comment"))+" ")]),e(m.ZB,[e(_.Z,{attrs:{label:t.translate("Comment"),rows:"4"},model:{value:t.comment,callback:function(e){t.comment=e},expression:"comment"}})],1),e(p.Z),e(m.h7,[e(v.Z),e(d.Z,{attrs:{text:""},on:{click:function(e){t.editModal=!1}}},[t._v(" "+t._s(t.translate("Close"))+" ")]),e(d.Z,{attrs:{color:"primary"},on:{click:t.updateCommission}},[t._v(" "+t._s(t.translate("Finish"))+" ")])],1)],1)],1),e(l.Z,{attrs:{justify:"space-between"}},[e(i.Z,{attrs:{cols:"12",xs:"12",sm:"12",md:"4",lg:"4"}}),e(i.Z,{attrs:{cols:"12",xs:"12",md:"4",lg:"4"}},[e("div",{staticClass:"d-flex justify-end align-center"},[e(f.Z,{attrs:{items:t.filters,value:t.filters[0]},model:{value:t.active_filter,callback:function(e){t.active_filter=e},expression:"active_filter"}})],1)])],1),e(i.Z,{staticClass:"table-container",attrs:{cols:"12",md:"12",lg:"12"},scopedSlots:t._u([{key:"top",fn:function(){return[e(x.Z,{attrs:{flat:""}},[e(v.Z),e(g.Z,{attrs:{"max-width":"550px"},model:{value:t.dialogDelete,callback:function(e){t.dialogDelete=e},expression:"dialogDelete"}},[e(u.Z,[e(l.Z,{staticStyle:{padding:"24px"},attrs:{"no-gutters":"","no-wrap":""}},[e("img",{staticStyle:{width:"56px",height:"56px"},attrs:{src:a(8952)}}),e("div",{staticStyle:{"margin-left":"16px"}},[e(m.EB,{staticClass:"text-h5 p-0"},[t._v(t._s(t.translate("Delete")))]),e(m.ZB,{staticClass:"p-0",staticStyle:{"margin-top":"4px"}},[t._v(t._s(t.translate("Are you sure you want to delete this item?")))])],1)]),e(m.h7,{staticClass:"justify-end"},[e("button",{staticClass:"btn btn-cancel",class:{"btn-dark":t.$vuetify.theme.dark},on:{click:t.closeDelete}},[t._v(t._s(t.translate("Cancel")))]),e("button",{staticClass:"btn btn-decline",attrs:{color:"blue darken-1",text:""},on:{click:function(e){return t.deleteItemModalConfirm()}}},[t._v(t._s(t.translate("Confirm")))])])],1)],1)],1)]},proxy:!0}])},[e(h.Z,{attrs:{headers:t.headers,items:t.data,search:t.search,loading:t.loading,options:t.options,"server-items-length":t.totalTableData,"footer-props":{"items-per-page-text":t.translate("Rows per page"),"items-per-page-all-text":t.translate("All")}},on:{"update:options":function(e){t.options=e}},scopedSlots:t._u([{key:"loading",fn:function(){return[t._v(" "+t._s(t.translate("Loading items"))+"... ")]},proxy:!0},{key:"no-data",fn:function(){return[t._v(" "+t._s(t.translate("No data available"))+" ")]},proxy:!0},{key:"item.agent_name",fn:function({item:a}){return[null!=a.user?e("div",{on:{click:function(e){return t.$router.push("/feedback/"+a.id)}}},[t._v(" "+t._s(a.user.first_name)+" "+t._s(a.user.last_name)+" ")]):t._e()]}},{key:"item.edit_comment",fn:function({item:a}){return[null!=a.feedback_comment?e(d.Z,{attrs:{icon:""},on:{click:function(e){return t.openEditModal(a,!1)}}},[e("svg",{attrs:{width:"18",height:"19",viewBox:"0 0 18 19",fill:"none",xmlns:"http://www.w3.org/2000/svg"}},[e("path",{attrs:{d:"M5.4821 8.94807L5.00602 12.298C4.98108 12.4757 5.03437 12.6553 5.15222 12.7902C5.26992 12.9251 5.44034 13.0017 5.61888 13H5.6944L9.08546 12.5772V12.577C9.22097 12.5599 9.34679 12.4977 9.44298 12.4006L16.1473 5.65393C16.6788 5.1571 16.9865 4.46458 16.9996 3.73522C17.0127 3.0059 16.7301 2.30261 16.2167 1.7869C15.7035 1.27119 15.0035 0.987279 14.2777 1.00044C13.5519 1.01361 12.8626 1.32273 12.3681 1.85661L5.65536 8.59929C5.56146 8.69364 5.50047 8.81606 5.48181 8.94821L5.4821 8.94807ZM6.66691 9.32578L13.2304 2.72678C13.6031 2.40349 14.1136 2.29252 14.5858 2.43212C15.0582 2.57172 15.4275 2.94285 15.5665 3.41747C15.7054 3.89194 15.595 4.40493 15.2732 4.77934L8.71808 11.3783L6.33218 11.674L6.66691 9.32578Z",fill:"#36a5dd"}}),e("path",{attrs:{d:"M9.53572 0H2.35709C1.73198 0 1.13243 0.244597 0.690427 0.680187C0.248267 1.11564 0 1.70629 0 2.32228V16.6777C0 17.2937 0.248279 17.8844 0.690427 18.3198C1.13243 18.7554 1.73198 19 2.35709 19H15.6429C16.268 19 16.8676 18.7554 17.3096 18.3198C17.7517 17.8844 18 17.2937 18 16.6777V8.07501C18 7.84882 17.8774 7.63971 17.6786 7.52662C17.4797 7.41338 17.2347 7.41338 17.0357 7.52662C16.8368 7.63971 16.7144 7.84882 16.7144 8.07501V16.6777C16.7144 16.9577 16.6014 17.2263 16.4005 17.4242C16.1996 17.6221 15.9271 17.7333 15.6429 17.7333H2.35709C2.07294 17.7333 1.80044 17.6221 1.59955 17.4242C1.39865 17.2263 1.28565 16.9577 1.28565 16.6777V2.32228C1.28565 2.04234 1.39865 1.77373 1.59955 1.57582C1.80044 1.3779 2.07293 1.26672 2.35709 1.26672H9.53572C9.76546 1.26672 9.97758 1.14597 10.0925 0.949974C10.2073 0.754121 10.2073 0.5126 10.0925 0.316608C9.97758 0.120755 9.76547 3.73898e-06 9.53572 3.73898e-06L9.53572 0Z",fill:"#36a5dd"}})])]):e(d.Z,{attrs:{icon:""},on:{click:function(e){return t.openEditModal(a,!0)}}},[e("svg",{attrs:{width:"20",height:"20",viewBox:"0 0 26 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"}},[e("path",{attrs:{d:"M23.2854 3.54275L11.1711 14.5999L6.77125 9.79979C6.34276 9.3426 5.62849 9.3141 5.14257 9.71409C4.68538 10.1426 4.65688 10.8568 5.05687 11.3428L10.2283 16.9999C10.4569 17.257 10.7712 17.3714 11.0855 17.3714C11.3713 17.3714 11.6284 17.2857 11.857 17.0856L24.8284 5.22846C25.2856 4.79997 25.3141 4.08571 24.9141 3.59979C24.4856 3.1426 23.7713 3.1141 23.2856 3.54259L23.2854 3.54275Z",fill:"#FFC107"}}),e("path",{attrs:{d:"M11.9999 24C18.6285 24 23.9999 18.6286 23.9999 12C23.9999 11.4286 23.9714 10.8857 23.8857 10.3428C23.8 9.71428 23.2286 9.28576 22.6001 9.37147C21.9715 9.45717 21.543 10.0286 21.6287 10.6571C21.6859 11.1143 21.7144 11.5715 21.7144 12C21.7144 17.3428 17.343 21.7143 12.0001 21.7143C6.65724 21.7143 2.28581 17.3428 2.28581 12C2.28581 6.65713 6.65724 2.2857 12.0001 2.2857C14.2859 2.2857 16.5144 3.0857 18.2572 4.57147C18.7429 4.97146 19.4572 4.91427 19.8572 4.42857C20.2572 3.94288 20.2 3.22857 19.7143 2.82862C17.5716 0.999847 14.8287 0 12 0C5.37143 0 0 5.37143 0 12C0 18.6286 5.37143 24 12 24L11.9999 24Z",fill:"#FFC107"}})])])]}},{key:"item.comment",fn:function({item:a}){return[null!=a.feedback_comment?e("span",[t._v(" "+t._s(a.feedback_comment.comment)+" ")]):e("span",[t._v(" "+t._s(t.translate("Pending"))+" ")])]}},{key:"item.lead_name",fn:function({item:a}){return[e("span",{on:{click:function(e){return t.$router.push("/feedback/"+a.id)}}},[t._v(t._s(a.first_name)+" "+t._s(a.last_name))])]}},{key:"item.created_at",fn:function({item:e}){return[t._v(" "+t._s(t._f("moment")(e,"DD.MM.YYYY"))+" ")]}}],null,!0)}),e(g.Z,{attrs:{"max-width":"500px"},model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[e(u.Z,[e(m.EB,{staticClass:"d-flex justify-center"},[e("span",{staticClass:"text-h5"},[t._v("Set the default fee % for all agents")])]),e(m.ZB,[e(o.Z,[e(l.Z,{staticClass:"d-flex justify-center"},[e(i.Z,{attrs:{cols:"12",xs:"12",md:"4",lg:"4"}},[e(C.Z,{attrs:{small:"",outlined:"",type:"number",max:"100",min:"0",value:"0"},model:{value:t.percentage,callback:function(e){t.percentage=e},expression:"percentage"}})],1)],1)],1)],1),e(m.h7,[e(v.Z),e(d.Z,{directives:[{name:"show",rawName:"v-show",value:t.isCreateMode,expression:"isCreateMode"}],attrs:{color:"primary"},on:{click:t.save}},[t._v(" Done ")]),e(d.Z,{directives:[{name:"show",rawName:"v-show",value:!t.isCreateMode,expression:"!isCreateMode"}],attrs:{color:"primary"},on:{click:t.update}},[t._v(" Done ")])],1)],1)],1)],1)],1)}),Z=[],k=a(9669),w=a.n(k),y=a(144),I=a(4069),L=a.t(I,2),M=a(8209);y.ZP.use(a(2513));var S={data(){return{date:new Date(Date.now()-6e4*(new Date).getTimezoneOffset()).toISOString().substr(0,10),menu:!1,search:"",isAdmin:!1,percentage:0,filters:[{text:this.translate("All"),value:"All"},{text:this.translate("Approved"),value:"Approved"},{text:this.translate("Pending"),value:"Pending"}],headers:[{text:this.translate("Date"),align:"start",value:"created_at"},{text:this.translate("Agent Name"),value:"agent_name"},{text:this.translate("Lead Name"),value:"lead_name"},{text:this.translate("Comment"),value:"comment"},{text:this.translate("Actions"),value:"edit_comment",align:"center"}],data:[],get_agents_list:[],snackbar:{show:!1,message:null,color:null},isCreateMode:!0,dialog:!1,dialogDelete:!1,loading:!0,options:{},totalTableData:0,active_filter:"All",editItemInfo:0,editModal:!1,comment:""}},computed:{formated_date(){if(!this.date)return null;const[t,e,a]=this.date.split("-");return`${a}.${e}.${t}`}},watch:{options:{handler(){this.getItemsTable()},deep:!0},active_filter(t){this.getItemsTable(t)}},components:{SnackBar:M.Z},methods:{translate(t){let e=null;return I.forEach(((a,s)=>{a.english.toLowerCase()==t.toLowerCase()&&(e=s)})),null===e?t:"german"==this.$store.state.language?L[e].german:L[e].english},async updateCommission(){this.loading=!0,this.editModal=!1,w().post(`feedback/comment/${this.editItemInfo.id}`,{feedbackComment:this.comment}).then((()=>{this.snackbar={show:!0,message:this.translate("Comment saved successfully"),color:"success"},this.$refs.snackbar.toggleSnackbar(!0),this.getItemsTable()})).catch((t=>console.log(t)))},openEditModal(t,e){this.editItemInfo=t,w().get(`feedback/${t.id}`).then((t=>this.comment=t.data.data.comment)),this.commission_value=e?0:parseInt(t.commission),this.editModal=!0},getItemsTable(t="All"){this.loading=!0;const{sortBy:e,sortDesc:a,page:s,itemsPerPage:n}=this.options;let i;i="asc",a[0]&&(i="desc"),w().get("/feedback_comment",{params:{sort_by:e[0],sort:i,page:s,per_page:n,filter:t}}).then((t=>{this.data=t.data.data,this.totalTableData=t.data.total,this.loading=!1,this.$nextTick((()=>{const t=this.$el.querySelector(".v-data-footer__pagination"),e=t.innerHTML.replace("of",this.translate("of"));t.innerHTML=e}))})).catch((t=>{console.log(t)}))},getAgentsList(){w().get("/admin/agent").then((t=>{for(let e=0;t.data.length>0;e++)this.get_agents_list.push({text:t.data[e].first_name+" "+t.data[e].last_name,value:t.data[e].id})})).catch((t=>{console.log(t)}))},openDialog(){this.isCreateMode=!0,this.dialog=!0},save(){this.dialog=!1},update(){this.dialog=!1}},mounted(){this.getItemsTable(),this.getAgentsList(),this.$helperPlugin.ifAdmin()&&(this.isAdmin=!0)}},$=S,D=a(3736),H=(0,D.Z)($,b,Z,!1,null,"a06df6a0",null),T=H.exports,A=a(6563),F=a(4674),N={name:"FeedbackComponent",data(){return{title:"Feedback"}},methods:{translate(t){let e=null;return I.forEach(((a,s)=>{a.english.toLowerCase()==t.toLowerCase()&&(e=s)})),null===e?t:"german"==this.$store.state.language?L[e].german:L[e].english}},components:{FeedbackTable:T,NavbarControl:A.Z,UserControl:F.Z}},B=N,P=(0,D.Z)(B,r,c,!1,null,null,null),E=P.exports,j={name:"FeedbackView",components:{Feedback:E}},z=j,G=(0,D.Z)(z,s,n,!1,null,null,null),V=G.exports},5617:function(t,e,a){a.d(e,{Z:function(){return o}});var s=a(5251),n=a(4987);const i=(0,n.Z)(s.Z);var o=i.extend({name:"v-textarea",props:{autoGrow:Boolean,noResize:Boolean,rowHeight:{type:[Number,String],default:24,validator:t=>!isNaN(parseFloat(t))},rows:{type:[Number,String],default:5,validator:t=>!isNaN(parseInt(t,10))}},computed:{classes(){return{"v-textarea":!0,"v-textarea--auto-grow":this.autoGrow,"v-textarea--no-resize":this.noResizeHandle,...s.Z.options.computed.classes.call(this)}},noResizeHandle(){return this.noResize||this.autoGrow}},watch:{autoGrow(t){this.$nextTick((()=>{var e;t?this.calculateInputHeight():null===(e=this.$refs.input)||void 0===e||e.style.removeProperty("height")}))},lazyValue(){this.autoGrow&&this.$nextTick(this.calculateInputHeight)},rowHeight(){this.autoGrow&&this.$nextTick(this.calculateInputHeight)}},mounted(){setTimeout((()=>{this.autoGrow&&this.calculateInputHeight()}),0)},methods:{calculateInputHeight(){const t=this.$refs.input;if(!t)return;t.style.height="0";const e=t.scrollHeight,a=parseInt(this.rows,10)*parseFloat(this.rowHeight);t.style.height=Math.max(a,e)+"px"},genInput(){const t=s.Z.options.methods.genInput.call(this);return t.tag="textarea",delete t.data.attrs.type,t.data.attrs.rows=this.rows,t},onInput(t){s.Z.options.methods.onInput.call(this,t),this.autoGrow&&this.calculateInputHeight()},onKeyDown(t){this.isFocused&&13===t.keyCode&&t.stopPropagation(),this.$emit("keydown",t)}}})}}]);
//# sourceMappingURL=feedback.9414f52c.js.map