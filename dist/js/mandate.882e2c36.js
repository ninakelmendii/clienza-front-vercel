"use strict";(self["webpackChunkfrontend"]=self["webpackChunkfrontend"]||[]).push([[144],{4674:function(t,e,a){a.d(e,{Z:function(){return y}});var l=a(8819),s=a(7179),i=a(4437),n=a(5057),o=a(2469),r=a(248),c=a(1908),d=a(1495),u=function(){var t=this,e=t._self._c;return e(i.Z,{attrs:{cols:"12",md:"12",lg:"12"}},[e("div",{staticClass:"second-sidebar-header",staticStyle:{padding:"0"}},[e(n.Z,{directives:[{name:"show",rawName:"v-show",value:t.isMobile,expression:"isMobile"}],on:{click:function(e){return t.$store.dispatch("toggleSecondVariant")}}},[t._v("mdi-arrow-collapse-right")]),e("div",[e("button",{staticClass:"border-blue",staticStyle:{overflow:"hidden",cursor:"pointer"},on:{click:function(e){return t.$store.dispatch("toggleLanguage")}}},["german"==t.$store.state.language?e("div",{staticClass:"center"},[e("img",{staticStyle:{width:"24px",height:"24px","object-fit":"cover","border-radius":"999px"},attrs:{src:a(1635),alt:"german language"}}),t._v(" CH ")]):e("div",{staticClass:"center"},[e("img",{staticStyle:{width:"24px",height:"24px","border-radius":"999px","object-fit":"cover"},attrs:{src:a(5257),alt:"german language"}}),t._v(" EN ")])]),e(d.Z,{attrs:{"offset-y":"",left:"",bottom:"",transition:"slide-x-transition"},scopedSlots:t._u([{key:"activator",fn:function({on:s,attrs:i}){return[e(l.Z,t._g(t._b({attrs:{size:"35"}},"v-avatar",i,!1),s),[t.$store.state.profileImage.img_path?e("img",{staticClass:"pa-1",staticStyle:{"object-fit":"contain"},attrs:{src:t.$store.state.profileImage.img_path}}):e(o.Z,{attrs:{src:a(6164)}})],1)]}}])},[e(r.Z,{staticClass:"p-0"},[e(c.Z,{staticClass:"p-0"},[e(s.Z,{staticStyle:{background:"transparent"},on:{click:t.goToProfile}},[t._v(" "+t._s(t.translate("Profile"))+" ")])],1),e(c.Z,{staticClass:"p-0"},[e(s.Z,{staticStyle:{background:"transparent"},on:{click:t.exitApp}},[t._v(t._s(t.translate("Log out")))])],1)],1)],1)],1)],1)])},h=[],p=(a(7658),a(4069)),g=a.t(p,2),m={name:"UserControl",methods:{translate(t){let e=null;return p.forEach(((a,l)=>{a.english.toLowerCase()==t.toLowerCase()&&(e=l)})),null===e?t:"german"==this.$store.state.language?g[e].german:g[e].english},goToProfile(){this.$router.push("/profile")},exitApp(){localStorage.removeItem("token"),localStorage.removeItem("user"),this.$router.push("/login")}}},f=m,C=a(3736),v=(0,C.Z)(f,u,h,!1,null,null,null),y=v.exports},1021:function(t,e,a){a.r(e),a.d(e,{default:function(){return E}});var l=function(){var t=this,e=t._self._c;return e("Mandate")},s=[],i=a(4437),n=a(6035),o=a(5294),r=function(){var t=this,e=t._self._c;return e(n.Z,[e(o.Z,[e(i.Z,{attrs:{cols:"12",md:"12",lg:"12"}},[e(o.Z,[e(i.Z,[e(o.Z,[e(i.Z,{staticClass:"d-flex justify-start",attrs:{cols:"12",md:"8"}},[e("NavbarControl"),e("h2",{staticStyle:{display:"flex","align-items":"center"}},[t._v(t._s(t.title))])],1),e(i.Z,{attrs:{cols:"12",md:"4"}},[e("UserControl")],1)],1)],1),e(i.Z,{attrs:{cols:"12",md:"12",lg:"12"}},[e("MandateTable")],1)],1)],1)],1)],1)},c=[],d=a(6563),u=a(7179),h=a(3385),p=a(5223),g=a(9789),m=a(271),f=a(5057),C=a(2469),v=a(1692),y=a(5234),b=a(5251),Z=function(){var t=this,e=t._self._c;return e(o.Z,[e(v.Z,{attrs:{color:t.snackbar.color,timeout:"2000"},scopedSlots:t._u([{key:"action",fn:function({attrs:a}){return[e(u.Z,t._b({attrs:{text:""},on:{click:function(e){t.snackbar=!1}}},"v-btn",a,!1),[t._v(" Close ")])]}}]),model:{value:t.snackbar.show,callback:function(e){t.$set(t.snackbar,"show",e)},expression:"snackbar.show"}},[t._v(" "+t._s(t.snackbar.message)+" ")]),e(o.Z,[e(i.Z,{attrs:{cols:"12",xs:"12",sm:"12",md:"4",lg:"4"}},[e(b.Z,{attrs:{"prepend-inner-icon":"mdi-magnify",filled:"",rounded:"","background-color":"#fff",label:t.translate("Search")},model:{value:t.search_string,callback:function(e){t.search_string=e},expression:"search_string"}})],1),e(i.Z,{attrs:{cols:"12",xs:"12",sm:"12",md:"8",lg:"8"}},[e(o.Z,{attrs:{justify:"end",align:"center"}},[e(u.Z,{attrs:{color:"primary"},on:{click:function(e){t.uploadFile=!0}}},[e(f.Z,[t._v("mdi-plus")]),t._v(t._s(t.translate("Add PDF file")))],1)],1)],1)],1),t.$helperPlugin.ifAdmin()?e(g.Z,{attrs:{"max-width":"500px"},model:{value:t.uploadFile,callback:function(e){t.uploadFile=e},expression:"uploadFile"}},[e(h.Z,[e(p.EB,[e("span",{staticClass:"text-h5"},[t._v(t._s(t.translate("Import file")))])]),e(p.ZB,[e(n.Z,[e(o.Z,[e(i.Z,{attrs:{cols:"12"}},[e(b.Z,{attrs:{outlined:"",label:t.translate("Title")},model:{value:t.file_title,callback:function(e){t.file_title=e},expression:"file_title"}})],1),e("div",{staticStyle:{width:"100%","margin-right":"12px"}},[e(m.Z,{attrs:{color:"primary accent-4",counter:"",label:t.translate("File input"),placeholder:t.translate("Select your PDF file"),"prepend-icon":"mdi-paperclip",outlined:"","show-size":1e3},model:{value:t.files,callback:function(e){t.files=e},expression:"files"}})],1)],1)],1)],1),e(p.h7,[e(y.Z),e(u.Z,{attrs:{color:"secondary"},on:{click:function(e){t.uploadFile=!1}}},[t._v(" "+t._s(t.translate("Cancel"))+" ")]),e(u.Z,{directives:[{name:"show",rawName:"v-show",value:t.isCreateMode,expression:"isCreateMode"}],attrs:{color:"primary"},on:{click:t.uploadCSV}},[t._v(" "+t._s(t.translate("Import"))+" ")])],1)],1)],1):t._e(),e(g.Z,{attrs:{"max-width":"550px"},model:{value:t.dialogDelete,callback:function(e){t.dialogDelete=e},expression:"dialogDelete"}},[e(h.Z,[e(o.Z,{staticStyle:{padding:"24px"},attrs:{"no-gutters":"","no-wrap":""}},[e("img",{staticStyle:{width:"56px",height:"56px"},attrs:{src:a(8952)}}),e("div",{staticStyle:{"margin-left":"16px"}},[e(p.EB,{staticClass:"text-h5 p-0"},[t._v(t._s(t.translate("Delete")))]),e(p.ZB,{staticClass:"p-0",staticStyle:{"margin-top":"4px"}},[t._v(t._s(t.translate("Are you sure you want to delete this item?")))])],1)]),e(p.h7,{staticClass:"justify-end"},[e("button",{staticClass:"btn btn-cancel",class:{"btn-dark":t.$vuetify.theme.dark},on:{click:t.closeDelete}},[t._v(t._s(t.translate("Cancel")))]),e("button",{staticClass:"btn btn-decline",attrs:{color:"blue darken-1",text:""},on:{click:function(e){return t.deleteItemModalConfirm()}}},[t._v(t._s(t.translate("Confirm")))])])],1)],1),e(i.Z,{attrs:{cols:"12",md:"12",lg:"12"}},[0!=t.data.length||t.loading?t._e():e(o.Z,{attrs:{justify:"center"}},[e("h3",[t._v(t._s(t.translate("No Data")))])]),e(o.Z,t._l(t.data,(function(l){return e(i.Z,{key:l.id,attrs:{cols:"12",md:"3",lg:"3"}},[e(h.Z,{staticClass:"card-offers",attrs:{outlined:""}},[e("div",{staticClass:"overlay d-flex justify-center align-center"},[t.$helperPlugin.ifAdmin()?e("div",[e(u.Z,{staticClass:"ml-4 mr-4",attrs:{icon:""},on:{click:function(e){return t.deleteModal(l.id)}}},[e("svg",{attrs:{width:"35",height:"35",viewBox:"0 0 38 50",fill:"none",xmlns:"http://www.w3.org/2000/svg"}},[e("path",{attrs:{d:"M31.0716 3.92163H25.6072C25.3587 2.81493 24.7008 1.82063 23.7445 1.10635C22.7881 0.392056 21.5917 0.00142858 20.3571 0H17.1431C15.9085 0.0013951 14.712 0.39202 13.7557 1.10635C12.7993 1.82063 12.1415 2.81502 11.8929 3.92163H6.42859C4.72401 3.92337 3.08998 4.54385 1.8848 5.64664C0.67992 6.74914 0.00185397 8.24433 0 9.80398C0 10.0638 0.112819 10.3132 0.313691 10.497C0.514564 10.6811 0.787099 10.7844 1.07144 10.7844H2.17074L2.19971 45.0881C2.19895 45.0913 2.19895 45.0948 2.19971 45.0979V45.1087V46.1331V46.1812C2.25613 47.2115 2.74287 48.1825 3.55975 48.8933C4.37696 49.6041 5.46094 50.0003 6.58845 50H30.9096C32.0363 49.9997 33.1199 49.6034 33.9365 48.8927C34.7529 48.1819 35.2396 47.2112 35.2961 46.1813V46.1332V45.1099C35.2965 45.106 35.2965 45.1019 35.2961 45.098C35.2965 45.0945 35.2965 45.0907 35.2961 45.0872L35.3293 10.7844H36.4286C36.7129 10.7844 36.9854 10.6811 37.1863 10.497C37.3872 10.3132 37.5 10.0638 37.5 9.80394C37.4981 8.2442 36.82 6.74902 35.6152 5.6466C34.4099 4.54374 32.7759 3.92329 31.0714 3.92159L31.0716 3.92163ZM17.1434 1.96081H20.3577H20.3573C21.022 1.96081 21.6704 2.1495 22.2132 2.50072C22.7556 2.85193 23.1661 3.34824 23.3875 3.92162H14.1131C14.3346 3.34823 14.7451 2.85197 15.2875 2.50072C15.8302 2.1495 16.4786 1.96081 17.1434 1.96081H17.1434ZM6.42937 5.88244H31.0725C32.0224 5.88349 32.9451 6.17297 33.6961 6.7052C34.447 7.23742 34.9836 7.98244 35.2223 8.82369H2.28019C2.51879 7.98244 3.05547 7.23743 3.8064 6.7052C4.55728 6.17297 5.48004 5.88349 6.42996 5.88244H6.42937ZM33.1597 44.1175H4.33829L4.31351 14.7057H33.1847L33.1597 44.1175ZM30.9097 48.0391H6.58852C6.01449 48.0401 5.4618 47.8403 5.04368 47.4807C4.62554 47.1211 4.37321 46.629 4.33852 46.1048V46.0783H33.159V46.1048C33.1243 46.6283 32.8727 47.1201 32.4553 47.4794C32.038 47.839 31.4864 48.0392 30.9131 48.0392L30.9097 48.0391ZM33.1822 12.7452H4.31682V10.7843H33.188L33.1822 12.7452Z",fill:"#FBFBFB"}}),e("path",{attrs:{d:"M8.39265 42.1573C8.677 42.1573 8.94952 42.0541 9.1504 41.8703C9.35127 41.6865 9.46409 41.4371 9.46409 41.1769V17.6474C9.46409 17.1057 8.98458 16.667 8.39269 16.667C7.80113 16.667 7.32129 17.1058 7.32129 17.6474V41.1769C7.32129 41.4371 7.43411 41.6865 7.63537 41.8703C7.83624 42.0541 8.10878 42.1573 8.39274 42.1573H8.39265Z",fill:"#FBFBFB"}}),e("path",{attrs:{d:"M13.5728 42.1573C13.8568 42.1573 14.1293 42.0541 14.3302 41.8703C14.5311 41.6865 14.6443 41.4371 14.6443 41.1769V17.6474C14.6443 17.1057 14.1644 16.667 13.5729 16.667C12.9809 16.667 12.5015 17.1058 12.5015 17.6474V41.1769C12.5015 41.7186 12.981 42.1573 13.5729 42.1573L13.5728 42.1573Z",fill:"#FBFBFB"}}),e("path",{attrs:{d:"M18.7501 42.1573C19.0344 42.1573 19.3069 42.0541 19.5078 41.8703C19.7087 41.6865 19.8215 41.4371 19.8215 41.1769V17.6474C19.8215 17.1057 19.3416 16.667 18.7501 16.667C18.1586 16.667 17.6787 17.1058 17.6787 17.6474V41.1769C17.6787 41.4371 17.7915 41.6865 17.9924 41.8703C18.1933 42.0541 18.4658 42.1573 18.7501 42.1573H18.7501Z",fill:"#FBFBFB"}}),e("path",{attrs:{d:"M23.9288 42.1573C24.2131 42.1573 24.4857 42.0541 24.6865 41.8703C24.8874 41.6865 25.0002 41.4371 25.0002 41.1769V17.6474C25.0002 17.1057 24.5207 16.667 23.9288 16.667C23.3373 16.667 22.8574 17.1058 22.8574 17.6474V41.1769C22.8574 41.4371 22.9706 41.6865 23.1715 41.8703C23.3724 42.0541 23.6449 42.1573 23.9289 42.1573H23.9288Z",fill:"#FBFBFB"}}),e("path",{attrs:{d:"M29.108 42.1573C29.3919 42.1573 29.6645 42.0541 29.8653 41.8703C30.0666 41.6865 30.1794 41.4371 30.1794 41.1769V17.6474C30.1794 17.1057 29.6995 16.667 29.108 16.667C28.5161 16.667 28.0366 17.1058 28.0366 17.6474V41.1769C28.0366 41.4371 28.1494 41.6865 28.3503 41.8703C28.5512 42.0541 28.8237 42.1573 29.1081 42.1573H29.108Z",fill:"#FBFBFB"}})])])],1):t._e(),e(u.Z,{staticClass:"ml-4",attrs:{icon:""},on:{click:function(e){return t.downloadFile(l)}}},[e("svg",{attrs:{width:"35",height:"35",viewBox:"0 0 20 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"}},[e("path",{attrs:{d:"M12.9392 8.32844L10.0959 11.3873V0H9.10032V11.3891L6.25577 8.32814L5.52638 9.00704L9.59701 13.3853L13.6686 9.00704L12.9392 8.32844Z",fill:"#FBFBFB"}}),e("path",{attrs:{d:"M19.1949 23.9999H0V4.80615H6.23141V5.80172H0.995331V23.0045H18.1993V5.80172H12.9638V4.80615H19.1946L19.1949 23.9999Z",fill:"#FBFBFB"}})])])],1),e("div",{staticClass:"pa-6"},[e(C.Z,{staticClass:"card-image",attrs:{src:a(3201)}}),e(p.EB,{staticClass:"font-weight-bold",staticStyle:{"font-size":"1rem","text-align":"center",display:"block"}},[t._v(t._s(t.getSingleFileName(l.filename)))])],1)])],1)})),1)],1)],1)},_=[],x=a(9669),w=a.n(x),S=a(4069),V=a.t(S,2),k={data(){return{uploadFile:!1,files:"",file_title:"",snackbar:{show:!1,message:null,color:null},isCreateMode:!0,search_string:"",dialog:!1,dialogDelete:!1,headers:[{text:"File name",value:"title"},{text:"Actions",value:"actions"}],data:[],file:"",loading:!0,options:{},totalTableData:0,deleteItemId:0,updateItemId:0}},watch:{dialog(t){t||this.close()},dialogDelete(t){t||this.closeDelete()},options:{handler(){this.getItemsTable()},deep:!0},search_string:{handler(){this.getItemsTable()},deep:!0}},methods:{getSingleFileName(t){const e=t.split("/");return e[e.length-1]},translate(t){let e=null;return S.forEach(((a,l)=>{a.english.toLowerCase()==t.toLowerCase()&&(e=l)})),null===e?t:"german"==this.$store.state.language?V[e].german:V[e].english},deleteModal(t){this.dialogDelete=!0,this.deleteItemId=t},async uploadCSV(){this.loading=!0,console.log(this.files),w().post("/internal_documents",{document:this.files,file_name:this.files,category:"mandate"},{headers:{"Content-type":"multipart/form-data"}}).then((()=>{this.getItemsTable()})).catch((t=>console.log(t))),this.uploadFile=!1},visitUrl(t){window.open(t,"_blank")},async getItemsTable(){this.loading=!0,w().get("/internal_documents?term="+this.search_string+"&category=mandate").then((t=>{console.log(t.data),this.data=t.data.data,this.totalTableData=t.data.length})).catch((t=>console.log(t))).finally((()=>this.loading=!1))},async deleteItem(){try{await w()["delete"]("/internal_documents/"+this.deleteItemId)}catch(t){console.log(t)}},downloadFile(t){w().get("download_internal?id="+t.id,{responseType:"blob"}).then((e=>{const a=window.URL.createObjectURL(e.data);let l=document.createElement("a");l.href=a,l.download=this.getSingleFileName(t.filename),document.body.appendChild(l),l.click(),l.remove(),window.URL.revokeObjectURL(a)})).catch((t=>console.log(t)))},deleteItemModal(t){this.deleteItemId=t.id,this.dialogDelete=!0},async deleteItemModalConfirm(){this.closeDelete(),await this.deleteItem(),this.getItemsTable()},close(){this.dialog=!1},closeDelete(){this.dialogDelete=!1}},mounted(){this.getItemsTable()}},F=k,I=a(3736),B=(0,I.Z)(F,Z,_,!1,null,null,null),$=B.exports,L=a(4674),H={name:"MandateComponents",data(){return{title:"Mandate"}},components:{MandateTable:$,NavbarControl:d.Z,UserControl:L.Z}},M=H,D=(0,I.Z)(M,r,c,!1,null,"1a85f6c7",null),T=D.exports,z={name:"MandateView",components:{Mandate:T}},N=z,A=(0,I.Z)(N,l,s,!1,null,null,null),E=A.exports},271:function(t,e,a){a.d(e,{Z:function(){return c}});a(7658);var l=a(5251),s=l.Z,i=a(4944),n=a(1050),o=a(6596),r=a(2653),c=s.extend({name:"v-file-input",model:{prop:"value",event:"change"},props:{chips:Boolean,clearable:{type:Boolean,default:!0},counterSizeString:{type:String,default:"$vuetify.fileInput.counterSize"},counterString:{type:String,default:"$vuetify.fileInput.counter"},hideInput:Boolean,multiple:Boolean,placeholder:String,prependIcon:{type:String,default:"$file"},readonly:{type:Boolean,default:!1},showSize:{type:[Boolean,Number],default:!1,validator:t=>"boolean"===typeof t||[1e3,1024].includes(t)},smallChips:Boolean,truncateLength:{type:[Number,String],default:22},type:{type:String,default:"file"},value:{default:void 0,validator:t=>(0,n.TI)(t).every((t=>null!=t&&"object"===typeof t))}},computed:{classes(){return{...s.options.computed.classes.call(this),"v-file-input":!0}},computedCounterValue(){const t=this.multiple&&this.lazyValue?this.lazyValue.length:this.lazyValue instanceof File?1:0;if(!this.showSize)return this.$vuetify.lang.t(this.counterString,t);const e=this.internalArrayValue.reduce(((t,{size:e=0})=>t+e),0);return this.$vuetify.lang.t(this.counterSizeString,t,(0,n.XE)(e,1024===this.base))},internalArrayValue(){return(0,n.TI)(this.internalValue)},internalValue:{get(){return this.lazyValue},set(t){this.lazyValue=t,this.$emit("change",this.lazyValue)}},isDirty(){return this.internalArrayValue.length>0},isLabelActive(){return this.isDirty},text(){return this.isDirty||!this.persistentPlaceholder&&!this.isFocused&&this.hasLabel?this.internalArrayValue.map((t=>{const{name:e="",size:a=0}=t,l=this.truncateText(e);return this.showSize?`${l} (${(0,n.XE)(a,1024===this.base)})`:l})):[this.placeholder]},base(){return"boolean"!==typeof this.showSize?this.showSize:void 0},hasChips(){return this.chips||this.smallChips}},watch:{readonly:{handler(t){!0===t&&(0,o.N6)("readonly is not supported on <v-file-input>",this)},immediate:!0},value(t){const e=this.multiple?t:t?[t]:[];(0,n.vZ)(e,this.$refs.input.files)||(this.$refs.input.value="")}},methods:{clearableCallback(){this.internalValue=this.multiple?[]:null,this.$refs.input.value=""},genChips(){return this.isDirty?this.text.map(((t,e)=>this.$createElement(i.Z,{props:{small:this.smallChips},on:{"click:close":()=>{const t=this.internalValue;t.splice(e,1),this.internalValue=t}}},[t]))):[]},genControl(){const t=s.options.methods.genControl.call(this);return this.hideInput&&(t.data.style=(0,r.y0)(t.data.style,{display:"none"})),t},genInput(){const t=s.options.methods.genInput.call(this);return t.data.attrs.multiple=this.multiple,delete t.data.domProps.value,delete t.data.on.input,t.data.on.change=this.onInput,[this.genSelections(),t]},genPrependSlot(){if(!this.prependIcon)return null;const t=this.genIcon("prepend",(()=>{this.$refs.input.click()}));return this.genSlot("prepend","outer",[t])},genSelectionText(){const t=this.text.length;return t<2?this.text:this.showSize&&!this.counter?[this.computedCounterValue]:[this.$vuetify.lang.t(this.counterString,t)]},genSelections(){const t=[];return this.isDirty&&this.$scopedSlots.selection?this.internalArrayValue.forEach(((e,a)=>{this.$scopedSlots.selection&&t.push(this.$scopedSlots.selection({text:this.text[a],file:e,index:a}))})):t.push(this.hasChips&&this.isDirty?this.genChips():this.genSelectionText()),this.$createElement("div",{staticClass:"v-file-input__text",class:{"v-file-input__text--placeholder":this.placeholder&&!this.isDirty,"v-file-input__text--chips":this.hasChips&&!this.$scopedSlots.selection}},t)},genTextFieldSlot(){const t=s.options.methods.genTextFieldSlot.call(this);return t.data.on={...t.data.on||{},click:t=>{t.target&&"LABEL"===t.target.nodeName||this.$refs.input.click()}},t},onInput(t){const e=[...t.target.files||[]];this.internalValue=this.multiple?e:e[0],this.initialValue=this.internalValue},onKeyDown(t){this.$emit("keydown",t)},truncateText(t){if(t.length<Number(this.truncateLength))return t;const e=Math.floor((Number(this.truncateLength)-1)/2);return`${t.slice(0,e)}â€¦${t.slice(t.length-e)}`}}})},3201:function(t,e,a){t.exports=a.p+"img/mandate.de285d58.jpg"}}]);
//# sourceMappingURL=mandate.882e2c36.js.map