{"ast":null,"code":"import axios from 'axios';\nimport * as LANGUAGE from '../../store/language.json';\nimport SnackBar from \"../Snackbar/SnackBar.vue\";\nexport default {\n  data() {\n    return {\n      snackbar: {\n        show: false,\n        message: \"\",\n        color: null\n      },\n      mjv: {\n        file: null,\n        year: ''\n      }\n    };\n  },\n  props: ['close', 'item'],\n  methods: {\n    formatDate(date) {\n      const options = {\n        year: 'numeric'\n      };\n      return new Date(date).toLocaleDateString(undefined, options);\n    },\n    translate(word) {\n      let wordIndex = null;\n      LANGUAGE.forEach((lng, index) => {\n        if (lng.english.toLowerCase() == word.toLowerCase()) {\n          wordIndex = index;\n        }\n      });\n      if (wordIndex === null) {\n        return word;\n      }\n      if (this.$store.state.language == 'german') {\n        return LANGUAGE[wordIndex].german;\n      } else {\n        return LANGUAGE[wordIndex].english;\n      }\n    },\n    onFileSelected(event) {\n      this.mjv.file = event;\n    },\n    showSnackBar(text, error) {\n      this.snackbar = {\n        message: text,\n        color: error,\n        error: error ? true : false\n      };\n      this.$refs.snackbar.toggleSnackbar(true);\n    },\n    submit() {\n      if (this.mjv.file === '') {\n        this.showSnackBar(this.translate('Please fill in the file field'), true);\n        return false;\n      }\n      if (this.mjv.year === '') {\n        this.showSnackBar(this.translate('Please fill in the year field'), true);\n        return false;\n      }\n      const formData = new FormData();\n      formData.append(\"contract\", this.mjv.file);\n      formData.append(\"contractExpiration\", this.mjv.year);\n      axios.post(`/feedback/contract-details/${this.$route.params.id}`, formData).then(response => {\n        if (response.data) {\n          this.close();\n          this.showSnackBar(this.translate(\"Success\"), false);\n        }\n      }).catch(error => {\n        this.showSnackBar(error.response.data.message, true);\n      });\n    },\n    getItem() {\n      if (this.item.contractExpiration || this.item.contractExpiration) {\n        this.mjv.file = this.item.contractExpiration;\n        this.mjv.year = this.formatDate(this.item.contractExpiration);\n      }\n    }\n  },\n  mounted() {\n    this.getItem();\n  },\n  components: {\n    SnackBar\n  }\n};","map":{"version":3,"names":["axios","LANGUAGE","SnackBar","data","snackbar","show","message","color","mjv","file","year","props","methods","formatDate","date","options","Date","toLocaleDateString","undefined","translate","word","wordIndex","forEach","lng","index","english","toLowerCase","$store","state","language","german","onFileSelected","event","showSnackBar","text","error","$refs","toggleSnackbar","submit","formData","FormData","append","post","$route","params","id","then","response","close","catch","getItem","item","contractExpiration","mounted","components"],"sources":["src/components/Dialogs/MJVDialog.vue"],"sourcesContent":["<template>\n    <v-container>\n      <v-row>\n        <SnackBar :data=\"snackbar\" ref=\"snackbar\"></SnackBar>\n        <v-col cols=\"12\" md=\"12\" lg=\"12\" style=\"padding: 0;\">\n          <v-card>\n              <v-row>\n                  <v-col cols=\"12\" md=\"12\" class=\"d-flex align-center\">\n                      <h2 style=\"display: flex; align-items: center;\">MJV</h2>\n                  </v-col>\n              </v-row>\n  \n              <v-card-text>\n                  <v-container>\n                      <v-row>\n                          <v-col cols=\"12\" sm=\"12\" md=\"12\">\n                            <v-file-input\n                              v-model=\"mjv.file\"\n                              :label=\"translate('Choose a file')\"\n                              accept=\".pdf,.doc,.docx,.txt\"\n                              @change=\"onFileSelected\"\n                            ></v-file-input>\n                          </v-col>\n                          <v-col cols=\"12\" sm=\"12\" md=\"12\">\n                              <v-text-field\n                                  v-model=\"mjv.year\"\n                                  :label=\"translate('Contract expiration')\"\n                                  type=\"number\"\n                              ></v-text-field>\n                          </v-col>\n                      </v-row>\n                  </v-container>\n              </v-card-text>\n              <v-card-actions>\n                <v-spacer></v-spacer>\n                <v-btn color=\"blue darken-1\" text @click=\"close\">\n                  {{ translate('Cancel') }}\n                </v-btn>\n\n                <v-btn\n                  color=\"blue darken-1\"\n                  text\n                  @click=\"submit\"\n                >\n                  {{translate(\"Create\")}}\n                </v-btn>\n              </v-card-actions>\n          </v-card>\n        </v-col>\n      </v-row>\n    </v-container>\n  </template>\n  \n  <script>\n  import axios from 'axios';\nimport * as LANGUAGE from '../../store/language.json';\n  import SnackBar from \"../Snackbar/SnackBar.vue\";\n  \n  export default {\n    data() {\n      return {\n        snackbar: {\n          show: false,\n          message: \"\",\n          color: null,\n        },\n        mjv: {\n          file: null,\n          year: '',\n        }\n      };\n    },\n    props: ['close', 'item'],\n    methods: {\n      formatDate(date) {\n        const options = { year: 'numeric' };\n        return new Date(date).toLocaleDateString(undefined, options);\n      },\n      translate(word) {\n        let wordIndex = null;\n  \n        LANGUAGE.forEach((lng, index) => {\n          if(lng.english.toLowerCase() == word.toLowerCase()) {\n            wordIndex = index;\n          }\n        });\n  \n        if(wordIndex === null) {\n          return word;\n        }\n  \n        if(this.$store.state.language == 'german') {\n          return LANGUAGE[wordIndex].german;\n        } else {\n          return LANGUAGE[wordIndex].english;\n        }\n      },\n      onFileSelected(event) {\n        this.mjv.file = event;\n      },\n      showSnackBar(text,error) {\n        this.snackbar = {\n            message: text,\n            color: error,\n            error: error ? true : false,\n          };\n          this.$refs.snackbar.toggleSnackbar(true);\n      },\n      submit() {\n        if(this.mjv.file === '') {\n          this.showSnackBar(this.translate('Please fill in the file field'), true)\n          return false;\n        }\n        if(this.mjv.year === '') {\n          this.showSnackBar(this.translate('Please fill in the year field'), true)\n          return false;\n        }\n        const formData = new FormData();\n        formData.append(\"contract\", this.mjv.file);\n        formData.append(\"contractExpiration\", this.mjv.year);\n        axios\n          .post(`/feedback/contract-details/${this.$route.params.id}`, formData)\n          .then((response) => {\n            if(response.data) {\n              this.close();\n              this.showSnackBar(this.translate(\"Success\"), false)\n            }\n          })\n          .catch((error) => {\n            this.showSnackBar(error.response.data.message, true)\n          });\n      },\n      getItem() {\n        if(this.item.contractExpiration || this.item.contractExpiration) {\n          this.mjv.file = this.item.contractExpiration;\n          this.mjv.year = this.formatDate(this.item.contractExpiration)\n        }\n      }\n    },\n    mounted() {\n      this.getItem();\n    },\n    components: { SnackBar },\n  };\n  </script>\n  \n<style scoped>\n    .v-card {\n        overflow: hidden;\n    }\n    h2 {\n        font-family: \"PT Sans\", sans-serif;\n        margin: 30px auto 0;\n    }\n</style>\n"],"mappings":"AAsDA,OAAAA,KAAA;AACA,YAAAC,QAAA;AACA,OAAAC,QAAA;AAEA;EACAC,KAAA;IACA;MACAC,QAAA;QACAC,IAAA;QACAC,OAAA;QACAC,KAAA;MACA;MACAC,GAAA;QACAC,IAAA;QACAC,IAAA;MACA;IACA;EACA;EACAC,KAAA;EACAC,OAAA;IACAC,WAAAC,IAAA;MACA,MAAAC,OAAA;QAAAL,IAAA;MAAA;MACA,WAAAM,IAAA,CAAAF,IAAA,EAAAG,kBAAA,CAAAC,SAAA,EAAAH,OAAA;IACA;IACAI,UAAAC,IAAA;MACA,IAAAC,SAAA;MAEApB,QAAA,CAAAqB,OAAA,EAAAC,GAAA,EAAAC,KAAA;QACA,IAAAD,GAAA,CAAAE,OAAA,CAAAC,WAAA,MAAAN,IAAA,CAAAM,WAAA;UACAL,SAAA,GAAAG,KAAA;QACA;MACA;MAEA,IAAAH,SAAA;QACA,OAAAD,IAAA;MACA;MAEA,SAAAO,MAAA,CAAAC,KAAA,CAAAC,QAAA;QACA,OAAA5B,QAAA,CAAAoB,SAAA,EAAAS,MAAA;MACA;QACA,OAAA7B,QAAA,CAAAoB,SAAA,EAAAI,OAAA;MACA;IACA;IACAM,eAAAC,KAAA;MACA,KAAAxB,GAAA,CAAAC,IAAA,GAAAuB,KAAA;IACA;IACAC,aAAAC,IAAA,EAAAC,KAAA;MACA,KAAA/B,QAAA;QACAE,OAAA,EAAA4B,IAAA;QACA3B,KAAA,EAAA4B,KAAA;QACAA,KAAA,EAAAA,KAAA;MACA;MACA,KAAAC,KAAA,CAAAhC,QAAA,CAAAiC,cAAA;IACA;IACAC,OAAA;MACA,SAAA9B,GAAA,CAAAC,IAAA;QACA,KAAAwB,YAAA,MAAAd,SAAA;QACA;MACA;MACA,SAAAX,GAAA,CAAAE,IAAA;QACA,KAAAuB,YAAA,MAAAd,SAAA;QACA;MACA;MACA,MAAAoB,QAAA,OAAAC,QAAA;MACAD,QAAA,CAAAE,MAAA,kBAAAjC,GAAA,CAAAC,IAAA;MACA8B,QAAA,CAAAE,MAAA,4BAAAjC,GAAA,CAAAE,IAAA;MACAV,KAAA,CACA0C,IAAA,oCAAAC,MAAA,CAAAC,MAAA,CAAAC,EAAA,IAAAN,QAAA,EACAO,IAAA,CAAAC,QAAA;QACA,IAAAA,QAAA,CAAA5C,IAAA;UACA,KAAA6C,KAAA;UACA,KAAAf,YAAA,MAAAd,SAAA;QACA;MACA,GACA8B,KAAA,CAAAd,KAAA;QACA,KAAAF,YAAA,CAAAE,KAAA,CAAAY,QAAA,CAAA5C,IAAA,CAAAG,OAAA;MACA;IACA;IACA4C,QAAA;MACA,SAAAC,IAAA,CAAAC,kBAAA,SAAAD,IAAA,CAAAC,kBAAA;QACA,KAAA5C,GAAA,CAAAC,IAAA,QAAA0C,IAAA,CAAAC,kBAAA;QACA,KAAA5C,GAAA,CAAAE,IAAA,QAAAG,UAAA,MAAAsC,IAAA,CAAAC,kBAAA;MACA;IACA;EACA;EACAC,QAAA;IACA,KAAAH,OAAA;EACA;EACAI,UAAA;IAAApD;EAAA;AACA"},"metadata":{},"sourceType":"module","externalDependencies":[]}