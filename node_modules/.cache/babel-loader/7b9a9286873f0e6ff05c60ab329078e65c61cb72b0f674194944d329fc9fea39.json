{"ast":null,"code":"import axios from 'axios';\nimport * as LANGUAGE from '../../store/language.json';\nimport SnackBar from \"../Snackbar/SnackBar.vue\";\nexport default {\n  data() {\n    return {\n      snackbar: {\n        show: false,\n        message: \"\",\n        color: null\n      },\n      beratung: {\n        text: '',\n        file: null\n      }\n    };\n  },\n  props: ['close', 'item'],\n  methods: {\n    translate(word) {\n      let wordIndex = null;\n      LANGUAGE.forEach((lng, index) => {\n        if (lng.english.toLowerCase() == word.toLowerCase()) {\n          wordIndex = index;\n        }\n      });\n      if (wordIndex === null) {\n        return word;\n      }\n      if (this.$store.state.language == 'german') {\n        return LANGUAGE[wordIndex].german;\n      } else {\n        return LANGUAGE[wordIndex].english;\n      }\n    },\n    onFileSelected(event) {\n      this.beratung.file = event;\n    },\n    showSnackBar(text, error) {\n      this.snackbar = {\n        message: text,\n        color: error,\n        error: error ? true : false\n      };\n      this.$refs.snackbar.toggleSnackbar(true);\n    },\n    submit() {\n      if (this.beratung.text === '') {\n        this.showSnackBar(this.translate('Please fill in the text field'), true);\n        return false;\n      }\n      if (this.beratung.file === '') {\n        this.showSnackBar(this.translate('Please choose file'), true);\n        return false;\n      }\n      const formData = new FormData();\n      formData.append('consultationDescription', this.beratung.text);\n      formData.append('consultationFile', this.beratung.file);\n      axios.post(`/feedback/consultation/${this.$route.params.id}`, formData).then(response => {\n        if (response.data) {\n          this.close();\n          this.showSnackBar(this.translate(\"Success\"), false);\n        }\n      }).catch(error => {\n        this.showSnackBar(error.response.data.message, true);\n      });\n    },\n    getItem() {\n      if (this.item.consultationFile || this.item.consultationFeedback) {\n        this.beratung.file = this.item.consultationFile;\n        this.beratung.text = this.item.consultationFeedback;\n      }\n    }\n  },\n  mounted() {\n    this.getItem();\n  },\n  components: {\n    SnackBar\n  }\n};","map":{"version":3,"names":["axios","LANGUAGE","SnackBar","data","snackbar","show","message","color","beratung","text","file","props","methods","translate","word","wordIndex","forEach","lng","index","english","toLowerCase","$store","state","language","german","onFileSelected","event","showSnackBar","error","$refs","toggleSnackbar","submit","formData","FormData","append","post","$route","params","id","then","response","close","catch","getItem","item","consultationFile","consultationFeedback","mounted","components"],"sources":["src/components/Dialogs/KeineBeratung.vue"],"sourcesContent":["<template>\n    <v-container>\n      <v-row>\n      <SnackBar :data=\"snackbar\" ref=\"snackbar\"></SnackBar>\n        <v-col cols=\"12\" md=\"12\" lg=\"12\" style=\"padding: 0;\">\n          <v-card>\n              <v-row>\n                  <v-col cols=\"12\" md=\"12\" class=\"d-flex align-center\">\n                      <h2 style=\"display: flex; align-items: center;\">{{ translate('No consultation') }}:</h2>\n                  </v-col>\n              </v-row>\n  \n              <v-card-text>\n                  <v-container>\n                      <v-row>\n                          <v-col cols=\"12\" sm=\"12\" md=\"12\">\n                            <v-textarea\n                              :label=\"translate('Reason')\"\n                              outlined\n                              v-model=\"beratung.text\"\n                            ></v-textarea>\n                          </v-col>\n                          <v-col cols=\"12\" sm=\"12\" md=\"12\">\n                            <v-file-input\n                              v-model=\"beratung.file\"\n                              :label=\"translate('Choose a file')\"\n                              accept=\".pdf,.doc,.docx,.txt\"\n                              @change=\"onFileSelected\"\n                            ></v-file-input>\n                          </v-col>\n                      </v-row>\n                  </v-container>\n              </v-card-text>\n              <v-card-actions>\n                <v-spacer></v-spacer>\n                <v-btn color=\"blue darken-1\" text @click=\"close\">\n                  {{ translate('Cancel') }}\n                </v-btn>\n\n                <v-btn\n                  color=\"blue darken-1\"\n                  text\n                  @click=\"submit\"\n                >\n                  {{translate(\"Create\")}}\n                </v-btn>\n              </v-card-actions>\n          </v-card>\n        </v-col>\n      </v-row>\n    </v-container>\n  </template>\n  \n<script>\nimport axios from 'axios';\nimport * as LANGUAGE from '../../store/language.json';\nimport SnackBar from \"../Snackbar/SnackBar.vue\";\n  \n  export default {\n    data() {\n      return {\n        snackbar: {\n          show: false,\n          message: \"\",\n          color: null,\n        },\n        beratung: {\n          text: '',\n          file: null,\n        }\n      };\n    },\n    props: ['close', 'item'],\n    methods: {\n      translate(word) {\n        let wordIndex = null;\n  \n        LANGUAGE.forEach((lng, index) => {\n          if(lng.english.toLowerCase() == word.toLowerCase()) {\n            wordIndex = index;\n          }\n        });\n  \n        if(wordIndex === null) {\n          return word;\n        }\n  \n        if(this.$store.state.language == 'german') {\n          return LANGUAGE[wordIndex].german;\n        } else {\n          return LANGUAGE[wordIndex].english;\n        }\n      },\n      onFileSelected(event) {\n        this.beratung.file = event\n      },\n      showSnackBar(text,error) {\n        this.snackbar = {\n            message: text,\n            color: error,\n            error: error ? true : false,\n          };\n          this.$refs.snackbar.toggleSnackbar(true);\n      },\n      submit() {\n        if(this.beratung.text === '') {\n          this.showSnackBar(this.translate('Please fill in the text field'), true)\n          return false;\n        }\n        if(this.beratung.file === '') {\n          this.showSnackBar(this.translate('Please choose file'), true)\n          return false;\n        }\n        const formData = new FormData();\n        formData.append('consultationDescription', this.beratung.text);\n        formData.append('consultationFile', this.beratung.file);\n        axios\n          .post(`/feedback/consultation/${this.$route.params.id}`, formData)\n          .then((response) => {\n            if(response.data) {\n              this.close();\n              this.showSnackBar(this.translate(\"Success\"), false)\n            }\n          })\n          .catch((error) => {\n            this.showSnackBar(error.response.data.message, true)\n          });\n      },\n      getItem() {\n        if(this.item.consultationFile || this.item.consultationFeedback) {\n          this.beratung.file = this.item.consultationFile;\n          this.beratung.text = this.item.consultationFeedback;\n        }\n      }\n    },\n    mounted() {\n      this.getItem();\n    },\n    components: {\n      SnackBar\n    },\n  };\n  </script>\n  \n<style scoped>\n    .v-card {\n        overflow: hidden;\n    }\n    h2 {\n        font-family: \"PT Sans\", sans-serif;\n        margin: 30px auto 0;\n    }\n</style>\n"],"mappings":"AAsDA,OAAAA,KAAA;AACA,YAAAC,QAAA;AACA,OAAAC,QAAA;AAEA;EACAC,KAAA;IACA;MACAC,QAAA;QACAC,IAAA;QACAC,OAAA;QACAC,KAAA;MACA;MACAC,QAAA;QACAC,IAAA;QACAC,IAAA;MACA;IACA;EACA;EACAC,KAAA;EACAC,OAAA;IACAC,UAAAC,IAAA;MACA,IAAAC,SAAA;MAEAd,QAAA,CAAAe,OAAA,EAAAC,GAAA,EAAAC,KAAA;QACA,IAAAD,GAAA,CAAAE,OAAA,CAAAC,WAAA,MAAAN,IAAA,CAAAM,WAAA;UACAL,SAAA,GAAAG,KAAA;QACA;MACA;MAEA,IAAAH,SAAA;QACA,OAAAD,IAAA;MACA;MAEA,SAAAO,MAAA,CAAAC,KAAA,CAAAC,QAAA;QACA,OAAAtB,QAAA,CAAAc,SAAA,EAAAS,MAAA;MACA;QACA,OAAAvB,QAAA,CAAAc,SAAA,EAAAI,OAAA;MACA;IACA;IACAM,eAAAC,KAAA;MACA,KAAAlB,QAAA,CAAAE,IAAA,GAAAgB,KAAA;IACA;IACAC,aAAAlB,IAAA,EAAAmB,KAAA;MACA,KAAAxB,QAAA;QACAE,OAAA,EAAAG,IAAA;QACAF,KAAA,EAAAqB,KAAA;QACAA,KAAA,EAAAA,KAAA;MACA;MACA,KAAAC,KAAA,CAAAzB,QAAA,CAAA0B,cAAA;IACA;IACAC,OAAA;MACA,SAAAvB,QAAA,CAAAC,IAAA;QACA,KAAAkB,YAAA,MAAAd,SAAA;QACA;MACA;MACA,SAAAL,QAAA,CAAAE,IAAA;QACA,KAAAiB,YAAA,MAAAd,SAAA;QACA;MACA;MACA,MAAAmB,QAAA,OAAAC,QAAA;MACAD,QAAA,CAAAE,MAAA,iCAAA1B,QAAA,CAAAC,IAAA;MACAuB,QAAA,CAAAE,MAAA,0BAAA1B,QAAA,CAAAE,IAAA;MACAV,KAAA,CACAmC,IAAA,gCAAAC,MAAA,CAAAC,MAAA,CAAAC,EAAA,IAAAN,QAAA,EACAO,IAAA,CAAAC,QAAA;QACA,IAAAA,QAAA,CAAArC,IAAA;UACA,KAAAsC,KAAA;UACA,KAAAd,YAAA,MAAAd,SAAA;QACA;MACA,GACA6B,KAAA,CAAAd,KAAA;QACA,KAAAD,YAAA,CAAAC,KAAA,CAAAY,QAAA,CAAArC,IAAA,CAAAG,OAAA;MACA;IACA;IACAqC,QAAA;MACA,SAAAC,IAAA,CAAAC,gBAAA,SAAAD,IAAA,CAAAE,oBAAA;QACA,KAAAtC,QAAA,CAAAE,IAAA,QAAAkC,IAAA,CAAAC,gBAAA;QACA,KAAArC,QAAA,CAAAC,IAAA,QAAAmC,IAAA,CAAAE,oBAAA;MACA;IACA;EACA;EACAC,QAAA;IACA,KAAAJ,OAAA;EACA;EACAK,UAAA;IACA9C;EACA;AACA"},"metadata":{},"sourceType":"module","externalDependencies":[]}