{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport axios from \"axios\";\nimport NavBarItems from \"./NavBarItems.vue\";\nimport CalendarWidget from \"../Dashboard/CalendarWidget.vue\";\nimport * as LANGUAGE from '../../store/language.json';\nexport default {\n  data() {\n    return {\n      user: [],\n      variant: false,\n      items: [],\n      total_notifications: '',\n      isAdmin: false,\n      isMobile: window.innerWidth < 900\n    };\n  },\n  components: {\n    NavBarItems,\n    CalendarWidget\n  },\n  computed: {\n    showCalendarWidget() {\n      return !this.isMobile ? this.$store.state.navBar.variant : this.$store.state.navBar.variant;\n    }\n  },\n  methods: {\n    translate(word) {\n      let wordIndex = null;\n      LANGUAGE.forEach((lng, index) => {\n        if (lng.english.toLowerCase() == word.toLowerCase()) {\n          wordIndex = index;\n        }\n      });\n      if (wordIndex === null) {\n        return word;\n      }\n      if (this.$store.state.language == 'german') {\n        return LANGUAGE[wordIndex].german;\n      } else {\n        return LANGUAGE[wordIndex].english;\n      }\n    },\n    goToProfile() {\n      this.$router.push(\"/profile\");\n    },\n    exitApp() {\n      localStorage.removeItem(\"token\");\n      localStorage.removeItem(\"user\");\n      this.$router.push(\"/login\");\n    },\n    changeVariant() {\n      this.variant = !this.variant;\n      this.drawer = !this.drawer;\n    },\n    getNotifications() {\n      axios.get(\"/notifications\").then(response => {\n        this.items = response.data.data;\n        this.total_notifications = response.data.total;\n      }).catch(error => {\n        console.log(error);\n      });\n    },\n    checkIsMobile() {\n      window.innerWidth < 900 ? this.isMobile = true : this.isMobile = false;\n    }\n  },\n  mounted() {\n    this.user = JSON.parse(this.$store.state.user);\n    this.getNotifications();\n    if (this.$helperPlugin.ifAdmin()) {\n      this.isAdmin = true;\n    }\n    console.log(this.$router.currentRoute);\n  },\n  created: function () {\n    window.addEventListener('resize', this.checkIsMobile);\n  },\n  destroyed: function () {\n    window.removeEventListener('resize', this.checkIsMobile);\n  }\n};","map":{"version":3,"names":["axios","NavBarItems","CalendarWidget","LANGUAGE","data","user","variant","items","total_notifications","isAdmin","isMobile","window","innerWidth","components","computed","showCalendarWidget","$store","state","navBar","methods","translate","word","wordIndex","forEach","lng","index","english","toLowerCase","language","german","goToProfile","$router","push","exitApp","localStorage","removeItem","changeVariant","drawer","getNotifications","get","then","response","total","catch","error","console","log","checkIsMobile","mounted","JSON","parse","$helperPlugin","ifAdmin","currentRoute","created","addEventListener","destroyed","removeEventListener"],"sources":["src/components/Navbar/NavBar.vue"],"sourcesContent":["<template>\r\n  <v-app id=\"inspire\">\r\n    <div \r\n      v-if=\"\r\n        !$route.path.includes('login') &&\r\n        !$route.path.includes('register') &&\r\n        !$route.path.includes('404') &&\r\n        !$route.path.includes('resetpassword')\r\n      \"\r\n    >\r\n      <div v-if=\"isAdmin\">\r\n        <v-navigation-drawer :mini-variant-width=\"!isMobile ? '112' : '60'\" stateless permanent :width=\"isMobile ? '80%' : '256'\" :sticky=\"isMobile\" :mini-variant=\"$store.state.navBar.variant\" app class=\"navigation-admin\" :class=\"{'main-nav-opened': !$store.state.navBar.variant && isMobile}\">\r\n          <NavBarItems />\r\n        </v-navigation-drawer>\r\n      </div>\r\n      <div v-else>\r\n        <v-navigation-drawer :mini-variant-width=\"!isMobile ? '112' : '60'\" stateless permanent :width=\"isMobile ? '80%' : '256'\" :sticky=\"isMobile\" :mini-variant=\"$store.state.navBar.variant\" app class=\"navigation-agent\" :class=\"{'main-nav-opened': !$store.state.navBar.variant && isMobile}\">        \r\n          <NavBarItems />  \r\n        </v-navigation-drawer>\r\n      </div>\r\n\r\n      <div v-if=\"isMobile && !$store.state.navBar.variant\" @click=\"$store.dispatch('toggleVariant')\" style=\"position: absolute; width: 20%; right: 0; z-index: 9999; height: 100%;\">\r\n          <v-icon style=\"font-size: 52px; position: absolute; right: 25px; top: 25px; z-index: 9998; cursor: pointer;\">mdi-close</v-icon>\r\n      </div>\r\n    </div>\r\n\r\n    <v-main>\r\n      <transition name=\"fade\" mode=\"out-in\">\r\n        <router-view />\r\n      </transition>\r\n    </v-main>\r\n    \r\n    <!-- Second sidebar -->\r\n    <div class=\"second-sidebar\" v-if=\"$router.currentRoute.name == 'home'\" :class=\"{ 'bg-anti-flash': !$vuetify.theme.dark }\">\r\n      <v-navigation-drawer v-if=\"!isMobile\" stateless class=\"w-desktop\" width=\"390\" permanent static app right :mini-variant=\"false\">\r\n        <div class=\"second-sidebar-header\" style=\"padding: 37px 40px; padding-bottom: 15px;\">\r\n          <v-icon v-show=\"isMobile\" @click=\"$store.dispatch('toggleSecondVariant')\">mdi-arrow-collapse-right</v-icon>\r\n          <div>\r\n            <button class=\"border-blue\" @click=\"$store.dispatch('toggleLanguage')\" style=\" overflow: hidden; cursor: pointer; \">\r\n              <div v-if=\"$store.state.language == 'german'\" class=\"center\">\r\n                <img src=\"@/assets/images/flags/swiss.webp\" alt=\"german language\" style=\"width: 24px; height: 24px; object-fit: cover; border-radius: 999px;\" />\r\n                CH\r\n              </div>\r\n              <div v-else class=\"center\">\r\n                <img src=\"@/assets/images/flags/uk.png\" alt=\"german language\" style=\"width: 24px; height: 24px; border-radius: 999px; object-fit: cover; border-radius: 999px;\" />\r\n                EN\r\n              </div>\r\n            </button>\r\n            \r\n          <!-- <div class=\"mode\" :class=\"{active: $vuetify.theme.dark}\" @click=\"$vuetify.theme.dark = !$vuetify.theme.dark\" :title=\"translate('Switch light/dark mode')\">\r\n            \r\n          </div> -->\r\n          <!-- <v-badge color=\"error\" overlap :content=\"total_notifications\">\r\n            <v-menu\r\n              bottom\r\n              offset-y\r\n              origin=\"center center\"\r\n              transition=\"scale-transition\"\r\n            >\r\n              <template v-slot:activator=\"{ on, attrs }\">\r\n                <v-icon color=\"black\" v-bind=\"attrs\" v-on=\"on\">mdi-bell</v-icon>\r\n              </template>\r\n              <v-card class=\"mx-auto\" max-width=\"300\" tile>\r\n                <v-list shaped>\r\n                  <v-subheader>{{ translate('NOTIFICATIONS') }}</v-subheader>\r\n                  <v-list-item-group color=\"primary\">\r\n                    <v-list-item v-for=\"(item, i) in items\" :key=\"i\">\r\n                      <v-list-item-content>\r\n                        <v-list-item-title v-text=\"item.title\"></v-list-item-title>\r\n                      </v-list-item-content>\r\n                    </v-list-item>\r\n                  </v-list-item-group>\r\n                </v-list>\r\n              </v-card>\r\n            </v-menu>\r\n          </v-badge> -->\r\n          <v-menu offset-y>\r\n            <template v-slot:activator=\"{ on, attrs }\">\r\n              <v-avatar size=\"35\" v-on=\"on\" v-bind=\"attrs\"\r\n                ><img class=\"pa-1\" :src=\"$store.state.profileImage.img_path\" v-if=\"$store.state.profileImage.img_path\" style=\"object-fit: contain;\"/>\r\n        <v-img src=\"@/assets/images/guest_profile_pic.png\" v-else></v-img></v-avatar>\r\n            </template>\r\n            <v-list class=\"p-0\">\r\n              <v-list-item class=\"p-0\">\r\n                <v-btn @click=\"goToProfile\" style=\"background: transparent\">\r\n                  {{ translate('Profile') }}\r\n                </v-btn>\r\n              </v-list-item>\r\n              <v-list-item class=\"p-0\">\r\n                <v-btn @click=\"exitApp\" style=\"background: transparent\">{{ translate('Log out') }}</v-btn>\r\n              </v-list-item>\r\n            </v-list>\r\n          </v-menu>\r\n          \r\n          </div>\r\n        </div>\r\n        <div style=\"padding: 40px 32px; padding-top: 0;\">\r\n          <CalendarWidget />\r\n        </div>\r\n      </v-navigation-drawer>\r\n    </div>\r\n  </v-app>\r\n</template>\r\n\r\n<script>\r\nimport axios from \"axios\";\r\nimport NavBarItems from \"./NavBarItems.vue\";\r\nimport CalendarWidget from \"../Dashboard/CalendarWidget.vue\";\r\nimport * as LANGUAGE from '../../store/language.json';\r\n\r\nexport default {\r\n  data() {\r\n    return {\r\n      user: [],\r\n      variant: false,\r\n      items: [],\r\n      total_notifications: '',\r\n      isAdmin: false,\r\n      isMobile: window.innerWidth < 900\r\n    };\r\n  },\r\n  components: { NavBarItems, CalendarWidget },\r\n  computed: {\r\n    showCalendarWidget() {\r\n      return !this.isMobile ? this.$store.state.navBar.variant : this.$store.state.navBar.variant;\r\n    }\r\n  },\r\n  methods: {\r\n    translate(word) {\r\n      let wordIndex = null;\r\n\r\n      LANGUAGE.forEach((lng, index) => {\r\n        if(lng.english.toLowerCase() == word.toLowerCase()) {\r\n          wordIndex = index;\r\n        }\r\n      });\r\n\r\n      if(wordIndex === null) {\r\n        return word;\r\n      }\r\n\r\n      if(this.$store.state.language == 'german') {\r\n        return LANGUAGE[wordIndex].german;\r\n      } else {\r\n        return LANGUAGE[wordIndex].english;\r\n      }\r\n    },\r\n    goToProfile() {\r\n      this.$router.push(\"/profile\");\r\n    },\r\n\r\n    exitApp() {\r\n      localStorage.removeItem(\"token\");\r\n      localStorage.removeItem(\"user\");\r\n      this.$router.push(\"/login\");\r\n    },\r\n\r\n    changeVariant() {\r\n      this.variant = !this.variant;\r\n      this.drawer = !this.drawer;\r\n    },\r\n\r\n    getNotifications() {\r\n      axios\r\n        .get(\"/notifications\")\r\n        .then((response) => {\r\n          this.items = response.data.data;\r\n          this.total_notifications = response.data.total;\r\n        })\r\n        .catch((error) => {\r\n          console.log(error);\r\n        });\r\n    },\r\n\r\n    checkIsMobile() {\r\n      window.innerWidth < 900\r\n      ? this.isMobile = true\r\n      : this.isMobile = false;\r\n    }\r\n  },\r\n\r\n  mounted() {\r\n    this.user = JSON.parse(this.$store.state.user);\r\n    this.getNotifications();\r\n    if (this.$helperPlugin.ifAdmin()) {\r\n      this.isAdmin = true;\r\n    }\r\n\r\n    console.log(this.$router.currentRoute)\r\n  },\r\n\r\n  created: function() {\r\n    window.addEventListener('resize', this.checkIsMobile);\r\n  },\r\n\r\n  destroyed: function() {\r\n    window.removeEventListener('resize', this.checkIsMobile);\r\n  }\r\n};\r\n</script>\r\n\r\n<style>\r\n@import url(\"https://fonts.googleapis.com/css2?family=PT+Sans&display=swap\");\r\n\r\n.theme--light.v-navigation-drawer,\r\n.theme--dark.v-navigation-drawer {\r\n  border: none;\r\n  font-family: \"PT Sans\", sans-serif;\r\n  font-weight: bolder;\r\n}\r\n\r\n.theme--light .navigation-agent {\r\n  background: #ecf1f6;\r\n}\r\n\r\n.theme--light .navigation-admin {\r\n  background: #1a1f3a;\r\n}\r\n\r\n\r\n.theme--dark .navigation {\r\n  background: #272727;\r\n}\r\n\r\nnav.main-nav-opened:first-child {\r\n  box-shadow: 5px 10px 18px #888888;\r\n}\r\n\r\n.v-navigation-drawer:not(.v-navigation-drawer--floating)\r\n  .v-navigation-drawer__border {\r\n  background-color: unset !important;\r\n}\r\n\r\n.v-avatar {\r\n  cursor: pointer;\r\n}\r\n\r\n.fade-enter {\r\n  opacity: 0;\r\n  transform: translateX(2em);\r\n}\r\n\r\n.fade-enter-active,\r\n.fade-leave-active {\r\n  transition: all 0.3s ease-in-out;\r\n}\r\n\r\nheader.v-sheet.theme--light.v-toolbar.v-app-bar.v-app-bar--fixed {\r\n  box-shadow: none !important;\r\n  background: #ecf1f6 !important;\r\n  border-bottom: none !important;\r\n}\r\n\r\nheader.v-sheet.theme--dark.v-toolbar.v-app-bar.v-app-bar--fixed {\r\n  box-shadow: none !important;\r\n  border-bottom: none !important;\r\n}\r\n\r\n.theme--light.v-navigation-drawer,\r\n.theme--dark.v-navigation-drawer {\r\n  font-weight: normal !important;\r\n}\r\n\r\n.second-sidebar > nav {\r\n  transition: all;\r\n}\r\n\r\n.bg-anti-flash > nav {\r\n  background-color: #ecf1f6 !important;\r\n}\r\n\r\n.second-sidebar-header, .second-sidebar-header > div:nth-child(2) {\r\n  display: flex;\r\n  flex-wrap: wrap;\r\n  justify-content: end;\r\n  align-items: center;\r\n  gap: 24px;\r\n}\r\n\r\n.second-sidebar .v-input--switch {\r\n  margin: 0 !important;\r\n}\r\n\r\n.v-input__control .v-messages {\r\n  display: none;\r\n}\r\n\r\n.v-input__control .v-input__slot {\r\n  margin: 0;\r\n}\r\n\r\n.v-input__control .v-input--selection-controls__input {\r\n  margin: 0;\r\n}\r\n\r\n.second-sidebar-header {\r\n  padding: 12px;\r\n}\r\n\r\n.w-mobile {\r\n  width: 80% !important;\r\n}\r\n\r\n.w-desktop {\r\n  width: 350px;\r\n}\r\n\r\n.p-0 {\r\n  padding: 0 !important;\r\n}\r\n\r\n.mode {\r\n  position: relative;\r\n  margin: auto;\r\n  width: 50px;\r\n  height: 30px;\r\n  background: #e5eff5;\r\n  border-radius: 20px;\r\n  cursor: pointer;\r\n  border: 1px solid #36a5dd;\r\n}\r\n\r\n.border-blue {\r\n  border: 1px solid #36a5dd;\r\n  border-radius: 20px;\r\n}\r\n\r\n.mode:after {\r\n  content: '☀️';\r\n  position: absolute;\r\n  top: 0;\r\n  left: 4px;\r\n  font-size: 14px;\r\n  height: 30px;\r\n  line-height: 30px;\r\n  text-align: center;\r\n  transition: all .3s ease;\r\n}\r\n\r\n.mode.active {\r\n  background: #1e1e1e;\r\n}\r\n\r\n.mode.active:after {\r\n  content: '🌛';\r\n  transform: translateX(20px);\r\n}\r\n\r\n.center {\r\n  display: flex; \r\n  justify-content: center; \r\n  align-items: center;\r\n  padding: 5px;\r\n  gap: 5px;\r\n}\r\n\r\n</style>"],"mappings":";AAyGA,OAAAA,KAAA;AACA,OAAAC,WAAA;AACA,OAAAC,cAAA;AACA,YAAAC,QAAA;AAEA;EACAC,KAAA;IACA;MACAC,IAAA;MACAC,OAAA;MACAC,KAAA;MACAC,mBAAA;MACAC,OAAA;MACAC,QAAA,EAAAC,MAAA,CAAAC,UAAA;IACA;EACA;EACAC,UAAA;IAAAZ,WAAA;IAAAC;EAAA;EACAY,QAAA;IACAC,mBAAA;MACA,aAAAL,QAAA,QAAAM,MAAA,CAAAC,KAAA,CAAAC,MAAA,CAAAZ,OAAA,QAAAU,MAAA,CAAAC,KAAA,CAAAC,MAAA,CAAAZ,OAAA;IACA;EACA;EACAa,OAAA;IACAC,UAAAC,IAAA;MACA,IAAAC,SAAA;MAEAnB,QAAA,CAAAoB,OAAA,EAAAC,GAAA,EAAAC,KAAA;QACA,IAAAD,GAAA,CAAAE,OAAA,CAAAC,WAAA,MAAAN,IAAA,CAAAM,WAAA;UACAL,SAAA,GAAAG,KAAA;QACA;MACA;MAEA,IAAAH,SAAA;QACA,OAAAD,IAAA;MACA;MAEA,SAAAL,MAAA,CAAAC,KAAA,CAAAW,QAAA;QACA,OAAAzB,QAAA,CAAAmB,SAAA,EAAAO,MAAA;MACA;QACA,OAAA1B,QAAA,CAAAmB,SAAA,EAAAI,OAAA;MACA;IACA;IACAI,YAAA;MACA,KAAAC,OAAA,CAAAC,IAAA;IACA;IAEAC,QAAA;MACAC,YAAA,CAAAC,UAAA;MACAD,YAAA,CAAAC,UAAA;MACA,KAAAJ,OAAA,CAAAC,IAAA;IACA;IAEAI,cAAA;MACA,KAAA9B,OAAA,SAAAA,OAAA;MACA,KAAA+B,MAAA,SAAAA,MAAA;IACA;IAEAC,iBAAA;MACAtC,KAAA,CACAuC,GAAA,mBACAC,IAAA,CAAAC,QAAA;QACA,KAAAlC,KAAA,GAAAkC,QAAA,CAAArC,IAAA,CAAAA,IAAA;QACA,KAAAI,mBAAA,GAAAiC,QAAA,CAAArC,IAAA,CAAAsC,KAAA;MACA,GACAC,KAAA,CAAAC,KAAA;QACAC,OAAA,CAAAC,GAAA,CAAAF,KAAA;MACA;IACA;IAEAG,cAAA;MACApC,MAAA,CAAAC,UAAA,SACA,KAAAF,QAAA,UACA,KAAAA,QAAA;IACA;EACA;EAEAsC,QAAA;IACA,KAAA3C,IAAA,GAAA4C,IAAA,CAAAC,KAAA,MAAAlC,MAAA,CAAAC,KAAA,CAAAZ,IAAA;IACA,KAAAiC,gBAAA;IACA,SAAAa,aAAA,CAAAC,OAAA;MACA,KAAA3C,OAAA;IACA;IAEAoC,OAAA,CAAAC,GAAA,MAAAf,OAAA,CAAAsB,YAAA;EACA;EAEAC,OAAA,WAAAA,CAAA;IACA3C,MAAA,CAAA4C,gBAAA,gBAAAR,aAAA;EACA;EAEAS,SAAA,WAAAA,CAAA;IACA7C,MAAA,CAAA8C,mBAAA,gBAAAV,aAAA;EACA;AACA"},"metadata":{},"sourceType":"module","externalDependencies":[]}