{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport axios from \"axios\";\nimport * as LANGUAGE from '../../store/language.json';\nimport SnackBar from \"../Snackbar/SnackBar.vue\";\nexport default {\n  name: \"UserManagementTable\",\n  data() {\n    return {\n      dialog_select_role: false,\n      snackbar: {\n        show: false,\n        message: null,\n        color: null\n      },\n      sex: \"frau\",\n      isCreateMode: true,\n      search: \"\",\n      activePicker: null,\n      date: null,\n      menu: false,\n      dialog: false,\n      dialogDelete: false,\n      headers: [{\n        text: \"#\",\n        value: \"id\"\n      }, {\n        text: this.translate(\"Name\"),\n        value: \"first_name\"\n      }, {\n        text: this.translate(\"Last Name\"),\n        value: \"last_name\"\n      }, {\n        text: this.translate(\"Date Applied\"),\n        value: \"created_at\"\n      }, {\n        text: this.translate(\"Actions\"),\n        value: \"actions\"\n      }],\n      role_items: [{\n        text: 'Agent',\n        value: 0\n      }, {\n        text: 'Admin',\n        value: 1\n      }],\n      role: 0,\n      data: [],\n      loading: true,\n      options: {},\n      totalTableData: 0,\n      create_data: {\n        customer_id: \"\",\n        insurance_id: \"\",\n        sent_on: \"\",\n        status_id: \"\",\n        category_id: \"\"\n      },\n      get_item_data: [],\n      contract_statuses: [],\n      contract_categories: [],\n      clients_list: [],\n      insurance_list: [],\n      deleteItemId: 0,\n      updateItemId: 0,\n      default_item_data: {\n        customer_id: \"\",\n        insurance_id: \"\",\n        sent_on: \"\",\n        status_id: \"\",\n        category_id: \"\"\n      }\n    };\n  },\n  computed: {\n    formTitle() {\n      return this.isCreateMode === true ? \"Create User\" : \"Pending User Profile\";\n    },\n    translated_roles() {\n      let translated = [];\n      this.role_items.forEach(r => {\n        translated.push({\n          text: this.translate(r.text),\n          value: r.value\n        });\n      });\n      return translated;\n    }\n  },\n  watch: {\n    dialog(val) {\n      val || this.close();\n    },\n    dialogDelete(val) {\n      val || this.closeDelete();\n    },\n    options: {\n      handler() {\n        this.getItemsTable();\n      },\n      deep: true\n    },\n    menu(val) {\n      val && setTimeout(() => this.activePicker = \"YEAR\");\n    }\n  },\n  methods: {\n    cancelProcess() {\n      this.dialog = false;\n      this.dialog_select_role = false;\n    },\n    selectRole() {\n      this.dialog = false;\n      this.dialog_select_role = true;\n    },\n    translate(word) {\n      let wordIndex = null;\n      LANGUAGE.forEach((lng, index) => {\n        if (lng.english.toLowerCase() == word.toLowerCase()) {\n          wordIndex = index;\n        }\n      });\n      if (wordIndex === null) {\n        return word;\n      }\n      if (this.$store.state.language == \"german\") {\n        return LANGUAGE[wordIndex].german;\n      } else {\n        return LANGUAGE[wordIndex].english;\n      }\n    },\n    approveUser() {\n      axios.put(\"/approve_agent\", {\n        user_id: this.updateItemId,\n        role_id: this.role\n      }).then(() => {\n        this.getItemsTable();\n      }).catch(err => console.log(err));\n      this.dialog_select_role = false;\n    },\n    declineUser() {\n      axios.post(\"/decline_agent\", {\n        user_id: this.deleteItemId\n      }).then(() => {\n        this.getItemsTable();\n      }).catch(err => console.log(err));\n      this.dialogDelete = !this.dialogDelete;\n    },\n    getItemsTable() {\n      this.loading = true;\n      const {\n        sortBy,\n        sortDesc,\n        page,\n        itemsPerPage\n      } = this.options;\n      let sortType;\n      sortType = \"asc\";\n      if (sortDesc[0]) {\n        sortType = \"desc\";\n      }\n      axios.get(\"/admin/userdatatable?waiting_list\", {\n        params: {\n          sort_by: sortBy[0],\n          sort: sortType,\n          page: page,\n          per_page: itemsPerPage\n        }\n      }).then(response => {\n        this.data = response.data.data;\n        this.totalTableData = response.data.total;\n        this.loading = false;\n        this.$nextTick(() => {\n          const currentEl = this.$el.querySelector(\".v-data-footer__pagination\");\n          const translated = currentEl.innerHTML.replace(\"of\", this.translate(\"of\"));\n          currentEl.innerHTML = translated;\n        });\n      }).catch(error => {\n        console.log(error);\n      });\n    },\n    createItem() {\n      axios.post(\"/contract\", this.create_data).then(response => {\n        this.create_data = {};\n        this.snackbar = {\n          message: response.data.message,\n          color: \"success\",\n          error: false\n        };\n        this.$refs.snackbar.toggleSnackbar();\n      }).catch(error => {\n        console.log(error);\n      });\n    },\n    getItem(itemId) {\n      axios.get(\"/contract/\" + itemId).then(response => {\n        this.create_data = {};\n        this.get_item_data.push(response.data.data);\n        this.create_data.customer_id = parseInt(response.data.data.customer_id);\n        this.create_data.insurance_id = parseInt(response.data.data.insurance_id);\n        this.create_data.sent_on = response.data.data.sent_on;\n        this.create_data.status_id = parseInt(response.data.data.status_id);\n        this.create_data.category_id = parseInt(response.data.data.category_id);\n      }).catch(error => {\n        console.log(error);\n      });\n    },\n    updateItem(itemId) {\n      axios.put(\"/contract/\" + itemId, this.create_data).then(response => {\n        this.snackbar = {\n          message: response.data.message,\n          color: \"success\",\n          error: false\n        };\n        this.$refs.snackbar.toggleSnackbar();\n      }).catch(error => {\n        console.log(error);\n      });\n    },\n    deleteItem(itemId) {\n      axios.delete(\"/contract/\" + itemId).then(response => {\n        this.snackbar = {\n          message: response.data.message,\n          color: \"success\",\n          error: false\n        };\n        this.$refs.snackbar.toggleSnackbar();\n      }).catch(error => {\n        console.log(error);\n      });\n    },\n    openDialog() {\n      this.create_data = this.default_item_data;\n      this.isCreateMode = true;\n      this.dialog = true;\n    },\n    editItem(item) {\n      this.isCreateMode = false;\n      this.getItem(item.id);\n      this.updateItemId = item.id;\n      this.dialog = true;\n    },\n    deleteItemModal(item) {\n      this.deleteItemId = item.id;\n      this.dialogDelete = true;\n    },\n    deleteItemModalConfirm() {\n      this.closeDelete();\n      this.deleteItem(this.deleteItemId);\n      this.getItemsTable();\n    },\n    close() {\n      this.dialog = false;\n    },\n    closeDelete() {\n      this.dialogDelete = false;\n    },\n    save() {\n      this.close();\n      this.createItem();\n      this.getItemsTable();\n    },\n    update() {\n      this.close();\n      this.updateItem(this.updateItemId);\n      this.getItemsTable();\n    },\n    saveDate(date) {\n      this.$refs.menu.save(date);\n    }\n  },\n  mounted() {\n    this.getItemsTable();\n  },\n  components: {\n    SnackBar\n  }\n};","map":{"version":3,"names":["axios","LANGUAGE","SnackBar","name","data","dialog_select_role","snackbar","show","message","color","sex","isCreateMode","search","activePicker","date","menu","dialog","dialogDelete","headers","text","value","translate","role_items","role","loading","options","totalTableData","create_data","customer_id","insurance_id","sent_on","status_id","category_id","get_item_data","contract_statuses","contract_categories","clients_list","insurance_list","deleteItemId","updateItemId","default_item_data","computed","formTitle","translated_roles","translated","forEach","r","push","watch","val","close","closeDelete","handler","getItemsTable","deep","setTimeout","methods","cancelProcess","selectRole","word","wordIndex","lng","index","english","toLowerCase","$store","state","language","german","approveUser","put","user_id","role_id","then","catch","err","console","log","declineUser","post","sortBy","sortDesc","page","itemsPerPage","sortType","get","params","sort_by","sort","per_page","response","total","$nextTick","currentEl","$el","querySelector","innerHTML","replace","error","createItem","$refs","toggleSnackbar","getItem","itemId","parseInt","updateItem","deleteItem","delete","openDialog","editItem","item","id","deleteItemModal","deleteItemModalConfirm","save","update","saveDate","mounted","components"],"sources":["src/components/WaitingList/WaitingListTable.vue"],"sourcesContent":["<template>\r\n    <v-row>\r\n      <SnackBar :data=\"snackbar\" ref=\"snackbar\"></SnackBar>\r\n  \r\n      <v-col cols=\"12\" md=\"12\" lg=\"12\">\r\n        <v-data-table\r\n          :headers=\"headers\"\r\n          :items=\"data\"\r\n          :loading=\"loading\"\r\n          :options.sync=\"options\"\r\n          :server-items-length=\"totalTableData\"\r\n          :search=\"search\"\r\n          :footer-props=\"{'items-per-page-text':translate('Rows per page'), 'items-per-page-all-text':translate('All')}\"\r\n        >\r\n        <template v-slot:loading>\r\n          {{translate('Loading items')}}...\r\n        </template>\r\n        <template v-slot:no-data>\r\n          {{translate('No data available')}}\r\n        </template>\r\n          <template v-slot:top>\r\n            <v-toolbar flat>\r\n              <v-spacer></v-spacer>\r\n              <!-- <v-dialog v-model=\"dialog\" max-width=\"500px\">\r\n                <v-card>\r\n                  <v-card-title>\r\n                    <span class=\"text-h5\">{{ formTitle }}</span>\r\n                  </v-card-title>\r\n  \r\n                  <v-card-text>\r\n                    <v-container>\r\n                      <v-row>\r\n                        <v-col cols=\"12\" sm=\"12\" md=\"12\">\r\n                          <v-radio-group v-model=\"sex\" row>\r\n                            <v-radio label=\"Frau\" value=\"frau\"></v-radio>\r\n                            <v-radio label=\"Herr\" value=\"herr\"></v-radio>\r\n                          </v-radio-group>\r\n                        </v-col>\r\n                        <v-col cols=\"12\" sm=\"6\" md=\"6\">\r\n                          <v-text-field\r\n                            v-model=\"create_data.customer_id\"\r\n                            label=\"First Name\"\r\n                          ></v-text-field>\r\n                        </v-col>\r\n                        <v-col cols=\"12\" sm=\"6\" md=\"6\">\r\n                          <v-text-field\r\n                            v-model=\"create_data.insurance_id\"\r\n                            label=\"Last Names\"\r\n                          ></v-text-field>\r\n                        </v-col>\r\n  \r\n                        <v-col cols=\"12\" sm=\"6\" md=\"6\">\r\n                          <v-text-field\r\n                            v-model=\"create_data.insurance_id\"\r\n                            label=\"Email Address\"\r\n                          ></v-text-field>\r\n                        </v-col>\r\n  \r\n                        <v-col cols=\"12\" sm=\"6\" md=\"6\">\r\n                          <v-text-field\r\n                            v-model=\"create_data.insurance_id\"\r\n                            label=\"Phone Nr.\"\r\n                          ></v-text-field>\r\n                        </v-col>\r\n  \r\n                        <v-col cols=\"12\" sm=\"6\" md=\"6\">\r\n                          <v-menu\r\n                            ref=\"menu\"\r\n                            v-model=\"menu\"\r\n                            :close-on-content-click=\"false\"\r\n                            transition=\"scale-transition\"\r\n                            offset-y\r\n                            min-width=\"auto\"\r\n                          >\r\n                            <template v-slot:activator=\"{ on, attrs }\">\r\n                              <v-text-field\r\n                                v-model=\"date\"\r\n                                label=\"Birthday\"\r\n                                prepend-inner-icon=\"mdi-calendar-outline\"\r\n                                readonly\r\n                                v-bind=\"attrs\"\r\n                                v-on=\"on\"\r\n                              ></v-text-field>\r\n                            </template>\r\n                            <v-date-picker\r\n                              v-model=\"date\"\r\n                              :active-picker.sync=\"activePicker\"\r\n                              :max=\"\r\n                                new Date(\r\n                                  Date.now() -\r\n                                    new Date().getTimezoneOffset() * 60000\r\n                                )\r\n                                  .toISOString()\r\n                                  .substr(0, 10)\r\n                              \"\r\n                              min=\"1950-01-01\"\r\n                            ></v-date-picker>\r\n                          </v-menu>\r\n                        </v-col>\r\n  \r\n                        <v-col cols=\"12\" sm=\"6\" md=\"6\">\r\n                          <v-select\r\n                            v-model=\"create_data.insurance_id\"\r\n                            label=\"Role\"\r\n                          ></v-select>\r\n                        </v-col>\r\n                      </v-row>\r\n                    </v-container>\r\n                  </v-card-text>\r\n  \r\n                  <v-card-actions>\r\n                    <v-spacer></v-spacer>\r\n                    <v-btn color=\"blue darken-1\" text @click=\"close\">\r\n                      Cancel\r\n                    </v-btn>\r\n  \r\n                    <v-btn\r\n                      v-show=\"isCreateMode\"\r\n                      color=\"blue darken-1\"\r\n                      text\r\n                      @click=\"save\"\r\n                    >\r\n                      Create\r\n                    </v-btn>\r\n                    <v-btn\r\n                      v-show=\"!isCreateMode\"\r\n                      color=\"blue darken-1\"\r\n                      text\r\n                      @click=\"update\"\r\n                    >\r\n                      Update\r\n                    </v-btn>\r\n                  </v-card-actions>\r\n                </v-card>\r\n              </v-dialog> -->\r\n              <template>\r\n                  <v-dialog v-model=\"dialog_select_role\" max-width=\"550px\">\r\n                      <v-card>\r\n                        <v-row no-gutters no-wrap style=\"padding: 24px;\">\r\n                            <v-select :label=\"translate('Role')\" :items=\"translated_roles\" v-model=\"role\"></v-select>\r\n                        </v-row>\r\n                        <v-card-actions class=\"justify-end\">\r\n                            <button @click=\"cancelProcess()\" class=\"btn btn-cancel\"\r\n                                >{{ translate('Cancel') }}</button\r\n                            >\r\n                            <button\r\n                                color=\"blue darken-1\"\r\n                                text\r\n                                @click=\"approveUser()\"\r\n                                class=\"btn btn-ok\"\r\n                                >{{ translate('Confirm') }}</button\r\n                            >\r\n                        </v-card-actions>\r\n                      </v-card>\r\n                  </v-dialog>\r\n              </template>\r\n              <template>\r\n                  <v-dialog v-model=\"dialog\" max-width=\"550px\">\r\n                      <v-card>\r\n                        <v-row no-gutters no-wrap style=\"padding: 24px;\">\r\n                          <img src=\"@/assets/gifs/add_user.gif\" style=\"width: 56px; height: 56px;\" />  \r\n                          <!-- <svg width=\"56\" height=\"56\" viewBox=\"0 0 56 56\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\r\n                                <rect x=\"4\" y =\"4\" width=\"48\" height=\"48\" rx=\"24\" fill=\"#D1FADF\"/>\r\n                                <path d=\"M23.5 28L26.5 31L32.5 25M38 28C38 33.5228 33.5228 38 28 38C22.4772 38 18 33.5228 18 28C18 22.4772 22.4772 18 28 18C33.5228 18 38 22.4772 38 28Z\" stroke=\"#039855\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\"/>\r\n                                <rect x=\"4\" y=\"4\" width=\"48\" height=\"48\" rx=\"24\" stroke=\"#ECFDF3\" stroke-width=\"8\"/>\r\n                            </svg> -->\r\n                            <div style=\"margin-left: 16px;\">\r\n                                <v-card-title class=\"text-h5 p-0\">{{ translate('Activate user') }}</v-card-title>\r\n                                <v-card-text class=\"p-0\" style=\"margin-top: 4px;\">{{ translate(\"Do you want to activate this user's account?\") }}</v-card-text>\r\n                            </div>\r\n                        </v-row>\r\n                        <v-card-actions class=\"justify-end\">\r\n                            <button @click=\"dialog = !dialog\" class=\"btn btn-cancel\" :class=\"{ 'btn-dark': $vuetify.theme.dark }\"\r\n                                >{{ translate('Cancel') }}</button\r\n                            >\r\n                            <button\r\n                                color=\"blue darken-1\"\r\n                                text\r\n                                @click=\"selectRole()\"\r\n                                class=\"btn btn-ok\"\r\n                                >\r\n                                <!-- @click=\"approveUser()\" -->\r\n                                {{ translate('Confirm') }}</button\r\n                            >\r\n                        </v-card-actions>\r\n                      </v-card>\r\n                  </v-dialog>\r\n              </template>\r\n              <v-dialog v-model=\"dialogDelete\" max-width=\"550px\">\r\n                <v-card>\r\n                  <v-row no-gutters no-wrap style=\"padding: 24px;\">\r\n                    <img src=\"@/assets/gifs/trash.gif\" style=\"width: 56px; height: 56px;\" />  \r\n                    <div style=\"margin-left: 16px;\">\r\n                        <v-card-title class=\"text-h5 p-0\">{{translate('Delete')}}</v-card-title>\r\n                        <v-card-text class=\"p-0\" style=\"margin-top: 4px;\">{{ translate('Are you sure you want to delete this item?') }}</v-card-text>\r\n                    </div>\r\n                  </v-row>\r\n                  <v-card-actions class=\"justify-end\">\r\n                      <button @click=\"dialogDelete = !dialogDelete\" class=\"btn btn-cancel\" :class=\"{ 'btn-dark': $vuetify.theme.dark }\"\r\n                          >{{ translate('Cancel') }}</button\r\n                      >\r\n                      <button\r\n                          color=\"blue darken-1\"\r\n                          text\r\n                          @click=\"declineUser()\"\r\n                          class=\"btn btn-decline\"\r\n                          >{{translate('Confirm')}}</button\r\n                      >\r\n                  </v-card-actions>\r\n                </v-card>\r\n              </v-dialog>\r\n            </v-toolbar>\r\n          </template>\r\n\r\n          <template v-slot:[`item.created_at`]=\"{item}\">\r\n            {{ item.created_at | moment(\"DD.MM.YYYY HH:mm\") }}\r\n          </template>\r\n  \r\n          <template v-slot:[`item.actions`]=\"{ item }\">\r\n            <div class=\"d-flex\">\r\n                <v-btn icon @click=\"editItem(item)\">\r\n                    <svg width=\"20\" height=\"20\" viewBox=\"0 0 26 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\r\n                        <path d=\"M23.2854 3.54275L11.1711 14.5999L6.77125 9.79979C6.34276 9.3426 5.62849 9.3141 5.14257 9.71409C4.68538 10.1426 4.65688 10.8568 5.05687 11.3428L10.2283 16.9999C10.4569 17.257 10.7712 17.3714 11.0855 17.3714C11.3713 17.3714 11.6284 17.2857 11.857 17.0856L24.8284 5.22846C25.2856 4.79997 25.3141 4.08571 24.9141 3.59979C24.4856 3.1426 23.7713 3.1141 23.2856 3.54259L23.2854 3.54275Z\" fill=\"#1DD200\"/>\r\n                        <path d=\"M11.9999 24C18.6285 24 23.9999 18.6286 23.9999 12C23.9999 11.4286 23.9714 10.8857 23.8857 10.3428C23.8 9.71428 23.2286 9.28576 22.6001 9.37147C21.9715 9.45717 21.543 10.0286 21.6287 10.6571C21.6859 11.1143 21.7144 11.5715 21.7144 12C21.7144 17.3428 17.343 21.7143 12.0001 21.7143C6.65724 21.7143 2.28581 17.3428 2.28581 12C2.28581 6.65713 6.65724 2.2857 12.0001 2.2857C14.2859 2.2857 16.5144 3.0857 18.2572 4.57147C18.7429 4.97146 19.4572 4.91427 19.8572 4.42857C20.2572 3.94288 20.2 3.22857 19.7143 2.82862C17.5716 0.999847 14.8287 0 12 0C5.37143 0 0 5.37143 0 12C0 18.6286 5.37143 24 12 24L11.9999 24Z\" fill=\"#1DD200\"/>\r\n                    </svg>\r\n                </v-btn>\r\n\r\n                <v-btn icon @click=\"deleteItemModal(item)\">\r\n                    <svg width=\"20\" height=\"20\" viewBox=\"0 0 25 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\r\n                        <path d=\"M20.4846 3.51416C18.2341 1.26392 15.1818 0 11.9995 0C8.81706 0 5.76502 1.26441 3.51441 3.5149C1.26416 5.76539 0 8.81749 0 12C0 15.1825 1.26416 18.2345 3.51441 20.4851C5.7649 22.7356 8.817 24 11.9995 24C15.182 24 18.2346 22.736 20.4846 20.4858C21.9815 19.0004 23.0592 17.1453 23.6076 15.1091C24.1562 13.0727 24.1562 10.9274 23.6076 8.89114C23.0592 6.85494 21.9815 4.99978 20.4846 3.51441V3.51416ZM16.0104 14.7942L16.0102 14.7944C16.1671 14.9582 16.2546 15.1761 16.2546 15.4028C16.2546 15.6298 16.1671 15.8477 16.0102 16.0115C15.8409 16.1645 15.6213 16.2499 15.3932 16.2516C15.1701 16.2497 14.9558 16.1641 14.7931 16.0115L11.9988 13.2171L9.20445 16.0115C9.04182 16.1641 8.82754 16.2497 8.6044 16.2516C8.37624 16.2499 8.15669 16.1645 7.98738 16.0115C7.83049 15.8477 7.74296 15.6298 7.74296 15.4028C7.74296 15.1761 7.83049 14.9582 7.98738 14.7944L10.7817 12.0001L7.98738 9.20571C7.65136 8.86969 7.65136 8.32463 7.98738 7.98863C8.3234 7.65263 8.86846 7.65261 9.20446 7.98863L11.9988 10.783L14.7932 7.98863C15.1292 7.65261 15.6742 7.65261 16.0102 7.98863C16.3462 8.32465 16.3463 8.86971 16.0102 9.20571L13.2159 12.0001L16.0104 14.7942Z\" fill=\"#D20000\"/>\r\n                    </svg>\r\n                </v-btn>\r\n            </div>\r\n          </template>\r\n        </v-data-table>\r\n      </v-col>\r\n    </v-row>\r\n  </template>\r\n  \r\n  <script>\r\n  import axios from \"axios\";\r\n  import * as LANGUAGE from '../../store/language.json';\r\nimport SnackBar from \"../Snackbar/SnackBar.vue\";\r\n  \r\n  export default {\r\n    name: \"UserManagementTable\",\r\n    data() {\r\n        return {\r\n            dialog_select_role: false,\r\n            snackbar: {\r\n                show: false,\r\n                message: null,\r\n                color: null,\r\n            },\r\n            sex: \"frau\",\r\n            isCreateMode: true,\r\n            search: \"\",\r\n            activePicker: null,\r\n            date: null,\r\n            menu: false,\r\n            dialog: false,\r\n            dialogDelete: false,\r\n            headers: [\r\n                { text: \"#\", value: \"id\" },\r\n                { text: this.translate(\"Name\"), value: \"first_name\" },\r\n                { text: this.translate(\"Last Name\"), value: \"last_name\" },\r\n                { text: this.translate(\"Date Applied\"), value: \"created_at\" },\r\n                { text: this.translate(\"Actions\"), value: \"actions\" },\r\n            ],\r\n            role_items: [\r\n              { text: 'Agent', value: 0 },\r\n              { text: 'Admin', value: 1 },\r\n            ],\r\n            role: 0,\r\n            data: [],\r\n            loading: true,\r\n            options: {},\r\n            totalTableData: 0,\r\n            create_data: {\r\n                customer_id: \"\",\r\n                insurance_id: \"\",\r\n                sent_on: \"\",\r\n                status_id: \"\",\r\n                category_id: \"\",\r\n            },\r\n            get_item_data: [],\r\n            contract_statuses: [],\r\n            contract_categories: [],\r\n            clients_list: [],\r\n            insurance_list: [],\r\n            deleteItemId: 0,\r\n            updateItemId: 0,\r\n            default_item_data: {\r\n                customer_id: \"\",\r\n                insurance_id: \"\",\r\n                sent_on: \"\",\r\n                status_id: \"\",\r\n                category_id: \"\",\r\n            },\r\n        };\r\n    },\r\n    computed: {\r\n        formTitle() {\r\n            return this.isCreateMode === true ? \"Create User\" : \"Pending User Profile\";\r\n        },\r\n        translated_roles() {\r\n          let translated = [];\r\n\r\n          this.role_items.forEach(r => {\r\n            translated.push({\r\n              text: this.translate(r.text),\r\n              value: r.value\r\n            })\r\n          })\r\n\r\n          return translated;\r\n        }\r\n    },\r\n    watch: {\r\n        dialog(val) {\r\n            val || this.close();\r\n        },\r\n        dialogDelete(val) {\r\n            val || this.closeDelete();\r\n        },\r\n        options: {\r\n            handler() {\r\n                this.getItemsTable();\r\n            },\r\n            deep: true,\r\n        },\r\n        menu(val) {\r\n            val && setTimeout(() => (this.activePicker = \"YEAR\"));\r\n        },\r\n    },\r\n    methods: {\r\n        cancelProcess() {\r\n          this.dialog = false;\r\n          this.dialog_select_role = false;\r\n        },\r\n        selectRole(){\r\n          this.dialog = false;\r\n          this.dialog_select_role = true;\r\n        },\r\n        translate(word) {\r\n            let wordIndex = null;\r\n            LANGUAGE.forEach((lng, index) => {\r\n                if (lng.english.toLowerCase() == word.toLowerCase()) {\r\n                    wordIndex = index;\r\n                }\r\n            });\r\n            if (wordIndex === null) {\r\n                return word;\r\n            }\r\n            if (this.$store.state.language == \"german\") {\r\n                return LANGUAGE[wordIndex].german;\r\n            }\r\n            else {\r\n                return LANGUAGE[wordIndex].english;\r\n            }\r\n        },\r\n        approveUser() {\r\n            axios\r\n                .put(\"/approve_agent\", {\r\n                user_id: this.updateItemId,\r\n                role_id: this.role\r\n            })\r\n                .then(() => {\r\n                this.getItemsTable();\r\n            })\r\n                .catch(err => console.log(err));\r\n\r\n            this.dialog_select_role = false;\r\n        },\r\n        declineUser() {\r\n            axios\r\n                .post(\"/decline_agent\", {\r\n                user_id: this.deleteItemId\r\n            })\r\n                .then(() => {\r\n                this.getItemsTable();\r\n            })\r\n                .catch(err => console.log(err));\r\n            this.dialogDelete = !this.dialogDelete;\r\n        },\r\n        getItemsTable() {\r\n            this.loading = true;\r\n            const { sortBy, sortDesc, page, itemsPerPage } = this.options;\r\n            let sortType;\r\n            sortType = \"asc\";\r\n            if (sortDesc[0]) {\r\n                sortType = \"desc\";\r\n            }\r\n            axios\r\n                .get(\"/admin/userdatatable?waiting_list\", {\r\n                params: {\r\n                    sort_by: sortBy[0],\r\n                    sort: sortType,\r\n                    page: page,\r\n                    per_page: itemsPerPage,\r\n                },\r\n            })\r\n                .then((response) => {\r\n                this.data = response.data.data;\r\n                this.totalTableData = response.data.total;\r\n                this.loading = false;\r\n\r\n                this.$nextTick(() => {\r\n                  const currentEl = this.$el.querySelector(\".v-data-footer__pagination\");\r\n                  const translated = currentEl.innerHTML.replace(\"of\", this.translate(\"of\"));\r\n\r\n                  currentEl.innerHTML = translated;\r\n                });\r\n            })\r\n                .catch((error) => {\r\n                console.log(error);\r\n            });\r\n        },\r\n        createItem() {\r\n            axios\r\n                .post(\"/contract\", this.create_data)\r\n                .then((response) => {\r\n                this.create_data = {};\r\n                this.snackbar = {\r\n                    message: response.data.message,\r\n                    color: \"success\",\r\n                    error: false,\r\n                };\r\n                this.$refs.snackbar.toggleSnackbar();\r\n            })\r\n                .catch((error) => {\r\n                console.log(error);\r\n            });\r\n        },\r\n        getItem(itemId) {\r\n            axios\r\n                .get(\"/contract/\" + itemId)\r\n                .then((response) => {\r\n                this.create_data = {};\r\n                this.get_item_data.push(response.data.data);\r\n                this.create_data.customer_id = parseInt(response.data.data.customer_id);\r\n                this.create_data.insurance_id = parseInt(response.data.data.insurance_id);\r\n                this.create_data.sent_on = response.data.data.sent_on;\r\n                this.create_data.status_id = parseInt(response.data.data.status_id);\r\n                this.create_data.category_id = parseInt(response.data.data.category_id);\r\n            })\r\n                .catch((error) => {\r\n                console.log(error);\r\n            });\r\n        },\r\n        updateItem(itemId) {\r\n            axios\r\n                .put(\"/contract/\" + itemId, this.create_data)\r\n                .then((response) => {\r\n                this.snackbar = {\r\n                    message: response.data.message,\r\n                    color: \"success\",\r\n                    error: false,\r\n                };\r\n                this.$refs.snackbar.toggleSnackbar();\r\n            })\r\n                .catch((error) => {\r\n                console.log(error);\r\n            });\r\n        },\r\n        deleteItem(itemId) {\r\n            axios\r\n                .delete(\"/contract/\" + itemId)\r\n                .then((response) => {\r\n                this.snackbar = {\r\n                    message: response.data.message,\r\n                    color: \"success\",\r\n                    error: false,\r\n                };\r\n                this.$refs.snackbar.toggleSnackbar();\r\n            })\r\n                .catch((error) => {\r\n                console.log(error);\r\n            });\r\n        },\r\n        openDialog() {\r\n            this.create_data = this.default_item_data;\r\n            this.isCreateMode = true;\r\n            this.dialog = true;\r\n        },\r\n        editItem(item) {\r\n            this.isCreateMode = false;\r\n            this.getItem(item.id);\r\n            this.updateItemId = item.id;\r\n            this.dialog = true;\r\n        },\r\n        deleteItemModal(item) {\r\n            this.deleteItemId = item.id;\r\n            this.dialogDelete = true;\r\n        },\r\n        deleteItemModalConfirm() {\r\n            this.closeDelete();\r\n            this.deleteItem(this.deleteItemId);\r\n            this.getItemsTable();\r\n        },\r\n        close() {\r\n            this.dialog = false;\r\n        },\r\n        closeDelete() {\r\n            this.dialogDelete = false;\r\n        },\r\n        save() {\r\n            this.close();\r\n            this.createItem();\r\n            this.getItemsTable();\r\n        },\r\n        update() {\r\n            this.close();\r\n            this.updateItem(this.updateItemId);\r\n            this.getItemsTable();\r\n        },\r\n        saveDate(date) {\r\n            this.$refs.menu.save(date);\r\n        },\r\n    },\r\n    mounted() {\r\n        this.getItemsTable();\r\n    },\r\n    components: { SnackBar }\r\n};\r\n  </script>\r\n  \r\n  <style>\r\n  .v-data-table {\r\n    border-radius: 10px;\r\n  }\r\n  \r\n  .v-data-table tr td {\r\n    border: none !important;\r\n  }\r\n  .p-0 {\r\n    padding: 0 !important;\r\n  }\r\n\r\n  .btn {\r\n      padding: 10px 18px !important;\r\n      min-width: 84px !important;\r\n      min-height: 44px !important;\r\n      border-radius: 8px;\r\n  }\r\n\r\n  .btn-cancel {\r\n      border: 1px solid #D0D5DD;\r\n      background: white;\r\n  }\r\n\r\n  .btn-ok {\r\n      background: #36A5DD;\r\n      color: white;\r\n      margin-left: 12px;\r\n  }\r\n\r\n  .btn-decline {\r\n    background-color: #D92D20;\r\n    color: white;\r\n    margin-left: 12px;\r\n  }\r\n  </style>"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}